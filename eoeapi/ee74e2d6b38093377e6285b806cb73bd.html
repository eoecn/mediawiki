{"title":"Dialogs","text":"<p>\u539f\u6587\u94fe\u63a5\uff1a<a rel=\"nofollow\" target=\"_blank\" class=\"external free\" href=\"http:\/\/docs.eoeandroid.com\/guide\/topics\/ui\/dialogs.html\">http:\/\/docs.eoeandroid.com\/guide\/topics\/ui\/dialogs.html<\/a><br \/>\n\u7ffb\u8bd1\uff1a<a href=\"http:\/\/wiki.eoeandroid.com\/index.php?title=Smalljing007&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Smalljing007\uff08\u5c1a\u672a\u64b0\u5199\uff09\"> smalljing007\uff08\u5f90\u5bd2\u9759\uff09<\/a><br \/>\n\u66f4\u65b0\uff1a2012.06.07<br \/>\n<\/p>\n<hr \/>\n<p>\u7528\u6237\u63a5\u53e3\n<\/p>\n<table id=\"toc\" class=\"toc\"><tr><td><div id=\"toctitle\"><h2>\u76ee\u5f55<\/h2><\/div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Dialogs.28.E5.AF.B9.E8.AF.9D.E6.A1.86.29\"><span class=\"tocnumber\">1<\/span> <span class=\"toctext\">Dialogs(\u5bf9\u8bdd\u6846)<\/span><\/a><\/li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#.E5.AF.B9.E8.AF.9D.E6.A1.86.E7.9A.84.E6.98.BE.E7.A4.BA\"><span class=\"tocnumber\">2<\/span> <span class=\"toctext\">\u5bf9\u8bdd\u6846\u7684\u663e\u793a<\/span><\/a><\/li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#.E9.94.80.E6.AF.81.E5.AF.B9.E8.AF.9D.E6.A1.86\"><span class=\"tocnumber\">3<\/span> <span class=\"toctext\">\u9500\u6bc1\u5bf9\u8bdd\u6846<\/span><\/a>\n<ul>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#.E4.BD.BF.E7.94.A8.E9.94.80.E6.AF.81.E7.9B.91.E5.90.AC\"><span class=\"tocnumber\">3.1<\/span> <span class=\"toctext\">\u4f7f\u7528\u9500\u6bc1\u76d1\u542c<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#.E5.88.9B.E5.BB.BA.E5.BC.B9.E5.87.BA.E5.AF.B9.E8.AF.9D.E6.A1.86\"><span class=\"tocnumber\">4<\/span> <span class=\"toctext\">\u521b\u5efa\u5f39\u51fa\u5bf9\u8bdd\u6846<\/span><\/a>\n<ul>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#.E6.B7.BB.E5.8A.A0.E6.8C.89.E9.92.AE\"><span class=\"tocnumber\">4.1<\/span> <span class=\"toctext\">\u6dfb\u52a0\u6309\u94ae<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-7\"><a href=\"#.E6.B7.BB.E5.8A.A0.E5.88.97.E8.A1.A8\"><span class=\"tocnumber\">4.2<\/span> <span class=\"toctext\">\u6dfb\u52a0\u5217\u8868<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#.E6.B7.BB.E5.8A.A0.E5.A4.8D.E9.80.89.E5.92.8C.E5.8D.95.E9.80.89.E6.8C.89.E9.92.AE\"><span class=\"tocnumber\">4.3<\/span> <span class=\"toctext\">\u6dfb\u52a0\u590d\u9009\u548c\u5355\u9009\u6309\u94ae<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<li class=\"toclevel-1 tocsection-9\"><a href=\"#.E5.88.9B.E5.BB.BA.E8.BF.9B.E5.BA.A6.E5.AF.B9.E8.AF.9D.E6.A1.86\"><span class=\"tocnumber\">5<\/span> <span class=\"toctext\">\u521b\u5efa\u8fdb\u5ea6\u5bf9\u8bdd\u6846<\/span><\/a>\n<ul>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#.E6.98.BE.E7.A4.BA.E8.BF.9B.E5.BA.A6.E6.9D.A1\"><span class=\"tocnumber\">5.1<\/span> <span class=\"toctext\">\u663e\u793a\u8fdb\u5ea6\u6761<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<li class=\"toclevel-1 tocsection-11\"><a href=\"#.E5.88.9B.E5.BB.BA.E8.87.AA.E5.AE.9A.E4.B9.89.E5.AF.B9.E8.AF.9D.E6.A1.86\"><span class=\"tocnumber\">6<\/span> <span class=\"toctext\">\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846<\/span><\/a><\/li>\n<\/ul>\n<\/td><\/tr><\/table>\n<h1> <span class=\"mw-headline\" id=\"Dialogs.28.E5.AF.B9.E8.AF.9D.E6.A1.86.29\">Dialogs(\u5bf9\u8bdd\u6846)<\/span><\/h1>\n<div style=\"width:292px; float:right;border:4px solid #DEE8F1; padding:0 5px 5px\">\n<p><b>\u5728\u6587\u6863\u4e2d<\/b>\n<\/p><p>\u663e\u793a\u5bf9\u8bdd\u6846\n<\/p><p>\u9500\u6bc1\u5bf9\u8bdd\u6846\n<\/p><p>\u521b\u5efa\u5f39\u51fa\u5bf9\u8bdd\u6846\n<\/p>\n<ul><li>\u6dfb\u52a0\u6309\u94ae\n<\/li><\/ul>\n<ul><li>\u6dfb\u52a0\u5217\u8868\n<\/li><\/ul>\n<p>\u521b\u5efa\u8fdb\u5ea6\u5bf9\u8bdd\u6846\n<\/p><p>\u663e\u793a\u8fdb\u5ea6\u6761\n<\/p><p>\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846 \n<\/p><p><b>\u7c7b<\/b>\n<\/p><p>Dialog\n<\/p><p>AlertDialog\n<\/p><p>DialogFragment\n<\/p><p><b>\u76f8\u5173\u6559\u7a0b<\/b>\n<\/p><p>Hello DatePicker\n<\/p><p>Hello TimePicker\n<\/p><p>\u53c2\u8003\n<\/p><p>Android \u8bbe\u8ba1: \u5bf9\u8bdd\u6846\n<\/p>\n<\/div>\n<p><br \/>\nDialogs(\u5bf9\u8bdd\u6846)\u901a\u5e38\u662f\u51fa\u73b0\u5728\u5f53\u524dActivity\u524d\u9762\u7684\u4e00\u4e2a\u5c0f\u7a97\u4f53\uff0c\u5728\u5931\u53bb\u7126\u70b9\u65f6\u63a5\u53d7\u6307\u4ee4\u4e0e\u7528\u6237\u8fdb\u884c\u4ea4\u4e92\u3002\u5bf9\u8bdd\u6846\u901a\u5e38\u7528\u4e8e\u5728\u7a0b\u5e8f\u77ed\u6682\u4e2d\u65ad\u65f6\u901a\u77e5\u63d0\u793a\u7528\u6237\uff0c\u4ece\u800c\u76f4\u63a5\u5f71\u54cd\u5230\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f\u3002\uff08\u4f8b\u5982\uff1a\u8fdb\u5ea6\u6761\u6216\u767b\u5f55\u63d0\u793a\uff09\n<\/p><p><br \/>\nDialog\u7c7b\u662f\u521b\u5efa\u5bf9\u8bdd\u6846\u7684\u57fa\u7c7b\u3002\u4f46\u662f\uff0c\u60a8\u901a\u5e38\u4e0d\u5e94\u8be5\u76f4\u63a5\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8bdd\u6846\u3002\u76f8\u53cd\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u4e0b\u9762\u7684\u5b50\u7c7b\u4e2d\u7684\u4e00\u4e2a\uff1a\n<\/p><p><b>AlertDialog\uff08\u5f39\u51fa\u5bf9\u8bdd\u6846\uff09<\/b>\n<\/p><p>\u5b83\u662f\u53ef\u4ee5\u64cd\u4f5c0\u4e2a\uff0c1\u4e2a\uff0c2\u4e2a\u6309\u94ae\u53c8\u6216\u8005\u662f\u590d\u9009\u6846\uff0c\u5355\u9009\u6309\u94ae\u5217\u8868\u7684\u5bf9\u8bdd\u6846\u3002\u8be5\u5bf9\u8bdd\u6846\u662f\u53ef\u4ee5\u521b\u5efa\u7528\u6237\u754c\u9762\u548c\u5efa\u8bae\u7684\u5bf9\u8bdd\u6846\u7c7b\u578b\u3002\n<\/p><p>\u8be6\u7ec6\u53c2\u89c1\u5982\u4f55\u521b\u5efaAlertDialog\uff08\u5f39\u51fa\u5bf9\u8bdd\u6846\uff09\u3002\n<\/p><p><br \/>\n<b>ProgressDialog\uff08\u8fdb\u5ea6\u6761\u5bf9\u8bdd\u6846\uff09<\/b>\n<\/p><p>\u4e00\u79cd\u53ef\u4ee5\u663e\u793a\u663e\u793a\u8fdb\u5ea6\u8f6e\u6216\u8fdb\u5ea6\u6761\u7684\u5bf9\u8bdd\u6846\u3002\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u6269\u5c55\u7684AlertDialog\uff08\u5f39\u51fa\u5bf9\u8bdd\u6846\uff09\uff0c\u6240\u4ee5\u5b83\u4e5f\u652f\u6301\u6309\u94ae\u3002\n<\/p><p>\u8be6\u7ec6\u53c2\u89c1\u521b\u5efaProgressDialog\uff08\u8fdb\u5ea6\u6761\u5bf9\u8bdd\u6846\uff09\u3002\n<\/p><p><br \/>\n<b>DatePickerDialog\uff08\u65e5\u671f\u9009\u62e9\u5bf9\u8bdd\u6846\uff09<\/b>\n<\/p><p>\u4e00\u79cd\u5141\u8bb8\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u65e5\u671f\u7684\u5bf9\u8bdd\u6846\u3002\n<\/p><p>\u8be6\u7ec6\u53c2\u89c1\u201c\u4f60\u597d\u65e5\u671f\u9009\u62e9\u5bf9\u8bdd\u6846\u201d\u6559\u7a0b\u3002\n<\/p><p><br \/>\n<b>TimePickerDialog\uff08\u65f6\u95f4\u9009\u62e9\u5bf9\u8bdd\u6846\uff09<\/b>\n<\/p><p>\u4e00\u79cd\u5141\u8bb8\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u65f6\u95f4\u7684\u5bf9\u8bdd\u6846\u3002\n<\/p><p>\u8be6\u7ec6\u53c2\u89c1\u201c\u4f60\u597d\u65f6\u95f4\u9009\u62e9\u5bf9\u8bdd\u6846\u201d\u6559\u7a0b\u3002\n<\/p><p><br \/>\n\u5982\u679c\u4f60\u60f3\u5b9a\u5236\u81ea\u5df1\u7684\u5bf9\u8bdd\u6846\uff0c\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u5e03\u5c40\uff0c\u5e76\u4e14\u8981\u7ee7\u627fDialog\u5bf9\u8c61\u6216\u4e0a\u9762\u5217\u51fa\u7684\u4efb\u4f55\u4e00\u4e2a\u5b50\u7c7b\u3002\n<\/p><p>\u8be6\u7ec6\u53c2\u89c1\u4e0b\u9762\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846\u7684\u90e8\u5206\u3002\n<\/p><p><br \/>\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p>\u5bf9\u8bdd\u6846\u8bbe\u8ba1\n<\/p><p>\u9605\u8bfbAndroid\u5bf9\u8bdd\u6846\u6307\u5357\u7684\u8bbe\u8ba1\u51c6\u5219\n<\/p>\n<\/div>\n<h1> <span class=\"mw-headline\" id=\".E5.AF.B9.E8.AF.9D.E6.A1.86.E7.9A.84.E6.98.BE.E7.A4.BA\"> \u5bf9\u8bdd\u6846\u7684\u663e\u793a <\/span><\/h1>\n<p>Dialog \u662f\u4f5c\u4e3aActivity\u7684\u4e00\u90e8\u5206\u663e\u793a.\u5e38\u89c4\u7684\u521b\u5efa\u4e00\u4e2aDialog\u9700\u8981\u7528Activity\u7684 onCreateDialog(int)\u65b9\u6cd5.\u8c03\u7528\u540e\uff0cAndroid\u7cfb\u7edf\u4f1a\u81ea\u52a8\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u5bf9\u8bdd\u6846\u7684\u72b6\u6001\uff0c\u5e76\u4e14\u52a0\u8f7d\u5bf9\u8bdd\u6846\u65b9\u6cd5\u3002\u6709\u6548\u7684\u533a\u5206\u6bcf\u4e2a\u5bf9\u8bdd\u6846\u7684\u201c\u6240\u6709\u8005\u201d\u3002\u6240\u4ee5\u6bcf\u4e2a\u5bf9\u8bdd\u6846\u90fd\u4f1a\u7ee7\u627f\u67d0\u4e9b\u201c\u6240\u6709\u8005\u201d\u7684\u4e8b\u4ef6\u3002\u4f8b\u5982\uff1a\u6253\u5f00\u5bf9\u8bdd\u6846\u65f6\u83dc\u5355\u952e\u663e\u793a\u4e3a\u6d3b\u52a8\u9009\u9879\u83dc\u5355\uff0c\u97f3\u91cf\u952e\u4fee\u6539\u97f3\u9891\u6d41\u6240\u4f7f\u7528\u7684\u6d3b\u52a8\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>\u6ce8\u610f\uff1a<\/b>\u5f53\u4f60\u4f7f\u7528onCreateDialog(int)\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5bf9\u8bdd\u6846\u65f6\uff0c\u5b83\u4e0d\u4f1a\u76f4\u63a5\u6307\u5411Activity\uff0c\u4f60\u9700\u8981\u4f7f\u7528setOwnerActivity\uff08Activity\uff09\u65b9\u6cd5\u6765\u4f7f\u5b83\u6210\u4e3a\u6307\u5411Activity\u7684\u5bf9\u8bdd\u6846\u3002\n<\/p>\n<\/div>\n<p>\u5f53\u4f60\u60f3\u8981\u663e\u793a\u4e00\u4e2a\u5bf9\u8bdd\u6846\u7684\u65f6\u5019,\u8c03\u7528showDialog(int)\u65b9\u6cd5,\u5e76\u4f20\u7ed9\u5b83\u4e00\u4e2a\u552f\u4e00\u7684\u4f60\u60f3\u663e\u793a\u7684\u5bf9\u8bdd\u6846\u7684\u8eab\u4efd\u8bc6\u522b\n<\/p><p>\u5728\u4f60\u7684Activity\u4e2d\uff0c\u4f60\u5b9e\u4f8b\u5316\u5bf9\u8bdd\u6846\uff0cAndroid\u4f1a\u5148\u8c03\u7528onCreateDialog(int)\u65b9\u6cd5\uff0c\u7b2c\u4e00\u65f6\u95f4\u521b\u5efa\u5bf9\u8bdd\u6846\u3002\u8fd9\u4e2a\u56de\u8c03\u65b9\u6cd5\u901a\u8fc7\u540c\u4e00\u4e2a\u4f60Show\uff08int\uff09\u5728\u521b\u5efa\u5bf9\u8bdd\u6846\u540e\uff0c\u8fd4\u56de\u5bf9\u8c61\u7684\u65b9\u6cd5\u3002\n<\/p><p>\u5728\u5bf9\u8bdd\u6846\u65b9\u6cd5\u663e\u793a\u4e4b\u524dAndroid\u4f1a\u5148\u8c03\u7528 onPrepareDialog(int, Dialog) \u65b9\u6cd5,\u5982\u679c\u4f60\u60f3\u6bcf\u6b21\u5bf9\u8bdd\u6846\u6253\u5f00\u7684\u65f6\u5019\u6539\u53d8\u5bf9\u8bdd\u6846\u7684\u4e00\u4e9b\u5c5e\u6027\u7684\u8bdd,\u53ef\u4ee5\u5728\u6539\u65b9\u6cd5\u91cc\u9762\u5199\u4e00\u4e9b\u4ee3\u7801. onCreateDialog(int)\u65b9\u6cd5\u6307\u5728\u7b2c\u4e00\u6b21\u6253\u5f00\u7684\u65f6\u5019\u88ab\u8c03\u7528\u4e00\u6b21.\u5982\u679c\u4f60\u6ca1\u5b9a\u4e49 onPrepareDialog() \u65b9\u6cd5,\u90a3\u4e48dialog\u4f1a\u548c\u539f\u5148\u6253\u5f00\u7684\u4e00\u6837.\n<\/p><p>\u6700\u597d\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u7684onCreateDialog\uff08int\uff09\u548conPrepareDialog\uff08int\uff0cDialog\uff09,\u56de\u8c03\u65b9\u6cd5\u662f\u7528\u4e00\u4e2aswitch\u8bed\u53e5\u6765\u68c0\u67e5\u4f20\u9012\u5230\u65b9\u6cd5\u7684id\u53c2\u6570\u3002\u6bcf\u4e00\u79cd\u60c5\u51b5\u4e0b\u5e94\u8be5\u68c0\u67e5\u4e00\u4e2a\u72ec\u7279\u7684\u5bf9\u8bddID\uff0c\u7136\u540e\u521b\u5efa\u5e76\u5b9a\u4e49\u76f8\u5e94\u7684\u5bf9\u8bdd\u6846\u3002\u4f8b\u5982\uff0c\u60f3\u8c61\u4e00\u4e2a\u6e38\u620f\u4f7f\u7528\u4e24\u79cd\u4e0d\u540c\u7684\u5bf9\u8bdd\uff1a\u4e00\u662f\u8868\u660e\u6e38\u620f\u5df2\u6682\u505c\uff0c\u53e6\u4e00\u4e2a\u8868\u660e\uff0c\u6e38\u620f\u7ed3\u675f\u3002\u9996\u5148\uff0c\u4e3a\u6bcf\u4e2a\u5bf9\u8bdd\u6846\u5b9a\u4e49\u4e00\u4e2a\u6574\u6570ID\uff1a\n<\/p>\n<pre>\nstatic final int DIALOG_PAUSED_ID = 0;\nstatic final int DIALOG_GAMEOVER_ID = 1;\n<\/pre>\n<p>\u7136\u540e\uff0c\u4e3a\u6bcf\u4e2aID\u7528onCreateDialog\uff08int\uff09\u7684\u65b9\u6cd5\u5b9a\u4e49\u8fd4\u56de\uff1a\n<\/p>\n<pre class=\"java\">&#160;\n<span style=\"color: #000000; font-weight: bold;\">protected<\/span> <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a> onCreateDialog<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #993333;\">int<\/span> id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n    <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a> dialog;\n    <span style=\"color: #b1b100;\">switch<\/span><span style=\"color: #66cc66;\">&#40;<\/span>id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n    <span style=\"color: #b1b100;\">case<\/span> DIALOG_PAUSED_ID:        <span style=\"color: #808080; font-style: italic;\">\/\/ \u5b9a\u4e49\u6682\u505c\u6267\u884c\u5bf9\u8bdd\u6846<\/span>\n        <span style=\"color: #000000; font-weight: bold;\">break<\/span>;\n    <span style=\"color: #b1b100;\">case<\/span> DIALOG_GAMEOVER_ID:        <span style=\"color: #808080; font-style: italic;\">\/\/ \u5b9a\u4e49\u7ed3\u675f\u5bf9\u8bdd\u6846<\/span>\n        <span style=\"color: #000000; font-weight: bold;\">break<\/span>;\n    <span style=\"color: #000000; font-weight: bold;\">default<\/span>:\n        dialog = <span style=\"color: #000000; font-weight: bold;\">null<\/span>;\n    <span style=\"color: #66cc66;\">&#125;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">return<\/span> dialog;\n<span style=\"color: #66cc66;\">&#125;<\/span>\n&#160;<\/pre>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>\u6ce8\u610f\uff1a<\/b>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5728case\u8bed\u53e5\u91cc\u9762\u7684\u5b9a\u4e49\u4e2d\u6ca1\u6709\u5177\u4f53\u4ee3\u7801\u3002\u5c5e\u4e8e\u5bf9\u8bdd\u6846\u8303\u56f4\u4ee5\u5916\u7684\u4e00\u6bb5\u3002\u4e0b\u9762\u7684\u4ecb\u7ecd\u521b\u5efaAlertDialog\uff0c\u63d0\u4f9b\u9002\u5f53\u4f8b\u5b50\u4ee3\u7801\u3002\n<\/p>\n<\/div>\n<p>\u5f53\u8981\u6253\u5f00\u5e26ID\u7684\u5bf9\u8bdd\u6846\u65f6\u53ef\u4ee5\u7528 showDialog(int) \u65b9\u6cd5\u6765\u6253\u5f00\u6307\u5b9aID\u7684\u5bf9\u8bdd\u6846\u3002\n<\/p>\n<pre>\nshowDialog(DIALOG_PAUSED_ID);\n<\/pre>\n<h1> <span class=\"mw-headline\" id=\".E9.94.80.E6.AF.81.E5.AF.B9.E8.AF.9D.E6.A1.86\">\u9500\u6bc1\u5bf9\u8bdd\u6846<\/span><\/h1>\n<p>\u5f53\u4f60\u51c6\u5907\u5173\u95ed\u5bf9\u8bdd\u6846\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u5b83\u7684dismiss()\u65b9\u6cd5\u6765\u8fdb\u884c\u5173\u95ed\u5bf9\u8bdd\u6846\u5bf9\u8c61\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u4f60\u4e5f\u53ef\u4ee5\u7528dismissDialog(int)\u6709\u6548\u7684\u8c03\u7528\u5bf9\u8bdd\u6846\u4e0a\u7684dismiss()\u65b9\u6cd5\u3002\n<\/p><p>\u5982\u679c\u4f60\u4f7f\u7528\u7684 onCreateDialog(int)\u65b9\u6cd5\u6765\u521b\u5efa\u7684\u5bf9\u8bdd\u6846\uff08\u53c2\u8003\u4e0a\u4e00\u8282\uff09\uff0c\u7136\u540e\u6bcf\u6b21\u4f60\u7684\u5bf9\u8bdd\u6846\u4e2d\u88ab\u9500\u6bc1\u65f6\uff0cActivity\u5bf9\u8bdd\u6846\u5bf9\u8c61\u90fd\u4f1a\u88ab\u4fdd\u7559\u3002\u5982\u679c\u4f60\u51b3\u5b9a\u5c06\u4e0d\u518d\u9700\u8981\u8be5\u5bf9\u8c61\u6216\u628a\u4e0d\u91cd\u8981\u7684\u5f7b\u5e95\u6e05\u9664\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u8c03\u7528 removeDialog\uff08int\uff09\u65b9\u6cd5\u3002\u5982\u679c\u5bf9\u8bdd\u6846\u663e\u793a\uff0c\u90a3\u4e48\u8fd9\u5c06\u4ece\u5185\u90e8\u6d88\u9664\u5bf9\u8c61\u7684\u5f15\u7528\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E4.BD.BF.E7.94.A8.E9.94.80.E6.AF.81.E7.9B.91.E5.90.AC\">\u4f7f\u7528\u9500\u6bc1\u76d1\u542c<\/span><\/h3>\n<p>\u5982\u679c\u4f60\u60f3\u5728\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u5230\u67d0\u4e00\u65f6\u523b\u65f6\uff0c\u5bf9\u4e00\u4e2a\u5bf9\u8bdd\u6846\u8fdb\u884c\u9500\u6bc1\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u9644\u52a0\u4e00\u4e2aon-dismiss\u76d1\u542c\uff0c\u6765\u76d1\u542c\u60a8\u7684\u5bf9\u8bdd\u6846\u3002\n<\/p><p>\u9996\u5148\u5b9a\u4e49 DialogInterface.OnDismissListener\u63a5\u53e3\u3002\u8be5\u63a5\u53e3\u6709\u4e00\u4e2a\u65b9\u6cd5onDismiss(DialogInterface)\uff0c\u8fd9\u5c06\u662f\u6240\u8c13\u7684\u5f53\u5bf9\u8bdd\u6846\u88ab\u9500\u6bc1\u3002\u662f\u901a\u8fc7setOnDismissListener().\u63a5\u53e3\u6765\u5b9e\u73b0 OnDismissListener \u7684\u76d1\u542c\u3002\n<\/p><p><br \/>\n\u7136\u800c\uff0c\u5bf9\u8bdd\u6846\u4e5f\u53ef\u4ee5\u88ab\u53d6\u6d88\u3002\u5728\u67d0\u4e9b\u7279\u5b9a\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u4e5f\u4f1a\u201c\u53d6\u6d88\u201d\u5bf9\u8bdd\u6846\u3002\u51fa\u73b0\u5728\uff0c\u7528\u6237\u6309\u5728\u8fd4\u56de\u6309\u94ae\u5bf9\u5bf9\u8bdd\u6846\u8fdb\u884c\u5173\u95ed\uff0c\u6216\u8005\u8c03\u7528cancel() \u65b9\u6cd5\uff08\u4e5f\u53ef\u80fd\u662f\u5bf9\u8bdd\u6846\u4e0a\u7684\u4e00\u4e2a\u53d6\u6d88\u6309\u94ae\uff09\u3002\u5f53\u5bf9\u8bdd\u6846\u88ab\u53d6\u6d88\u65f6\uff0c\u5c31\u89e6\u53d1OnDismissListener\u3002\u4f46\u5982\u679c\u4f60\u60f3\u660e\u786e\u5bf9\u8bdd\u6846\u53d6\u6d88\u65b9\u5f0f\uff08\u4e0d\u662f\u6b63\u5e38\u53d6\u6d88\uff09\uff0c\u90a3\u4f60\u8981\u7528\u6ce8\u518c DialogInterface.OnCancelListener\u91cc\u7684setOnCancelListener().\n<\/p>\n<h1> <span class=\"mw-headline\" id=\".E5.88.9B.E5.BB.BA.E5.BC.B9.E5.87.BA.E5.AF.B9.E8.AF.9D.E6.A1.86\">\u521b\u5efa\u5f39\u51fa\u5bf9\u8bdd\u6846<\/span><\/h1>\n<p>AlertDialog\u662f\u4e00\u4e2a\u6269\u5c55\u7684\u5bf9\u8bdd\u6846\u7c7b\u3002\u5b83\u80fd\u591f\u521b\u5efa\u5927\u591a\u6570\u7528\u6237\u754c\u9762\u548c\u63a8\u8350\u7684\u5bf9\u8bdd\u6846\u7c7b\u3002\u4f60\u4f7f\u7528\u8fd9\u79cd\u5bf9\u8bdd\u6846\u65f6\uff0c\u53ea\u8981\u7b26\u5408\u4e0b\u9762\u4efb\u4f55\u7279\u70b9\u5c31\u53ef\u4ee5\u4f7f\u7528\uff1a\n<\/p>\n<ul><li>\u6709\u6807\u9898\n<\/li><\/ul>\n<ul><li>\u6709\u6b63\u6587\n<\/li><\/ul>\n<ul><li>\u6709\u4e00\u5230\u4e09\u4e2a\u6309\u94ae\n<\/li><\/ul>\n<ul><li>\u6709\u5217\u8868\u9009\u62e9\u9879\uff08\u5355\u9009\u6309\u94ae\u6216\u8005\u590d\u9009\u6846\uff09\n<\/li><\/ul>\n<p>\u4f7f\u7528AlertDialog.Builder \u5b50\u7c7b\u6765\u521b\u5efa\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u7528AlertDialog.Builder(Context)\u65b9\u6cd5\u6765\u521b\u5efa\uff0c\u5728\u4f7f\u7528create()\u65b9\u6cd5\u540e\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u5f39\u51fa\u5bf9\u8bdd\u6846\u8fdb\u884c\u521b\u5efa\u6216\u68c0\u7d22\u64cd\u4f5c\u3002\u7136\u540e\u53ef\u4ee5\u7528\u7c7b\u91cc\u7684\u516c\u5171\u65b9\u6cd5\u5bf9\u6240\u6709\u5bf9\u8bdd\u6846\u5c5e\u6027\u8fdb\u884c\u5b9a\u4e49\u3002\n<\/p><p>\u4e0b\u9762\u4f8b\u5b50\u4e3b\u8981\u8bb2\u5982\u4f55\u4f7f\u7528AlertDialog.Builder\u5b50\u7c7b\u540e\uff0c\u5b9a\u4e49\u5f39\u51fa\u5bf9\u8bdd\u6846\u7684\u5404\u79cd\u5c5e\u6027\u3002\u5982\u679c\u4f60\u4f7f\u7528onCreateDialog()\u65b9\u6cd5\uff0c\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5f97\u5230\u8fd4\u56de\u7684\u5bf9\u8bdd\u6846\u5bf9\u8c61\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E6.B7.BB.E5.8A.A0.E6.8C.89.E9.92.AE\">\u6dfb\u52a0\u6309\u94ae<\/span><\/h3>\n<p>\u53ef\u4ee5\u4f7f\u7528set...Button()\u65b9\u6cd5\u6765\u521b\u5efa\u5728\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\u5e76\u6392\u5bf9\u5de6\u5230\u53f3\u663e\u793a\u6309\u94ae\u3002\n<\/p>\n<div style=\"width:292px; float:right;border:4px solid #DEE8F1; padding:0 5px 5px\">\n<p><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_buttons.png\" alt=\"dialog_buttons.png\" \/>\n<\/p>\n<\/div>\n<pre class=\"java\">&#160;\nAlertDialog.<span style=\"color: #006600;\">Builder<\/span> builder = <span style=\"color: #000000; font-weight: bold;\">new<\/span> AlertDialog.<span style=\"color: #006600;\">Builder<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">this<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setMessage<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Are you sure you want to exit?&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>\n       .<span style=\"color: #006600;\">setCancelable<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">false<\/span><span style=\"color: #66cc66;\">&#41;<\/span>\n       .<span style=\"color: #006600;\">setPositiveButton<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Yes&quot;<\/span>, <span style=\"color: #000000; font-weight: bold;\">new<\/span> DialogInterface.<span style=\"color: #006600;\">OnClickListener<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n           <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onClick<span style=\"color: #66cc66;\">&#40;<\/span>DialogInterface dialog, <span style=\"color: #993333;\">int<\/span> id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                MyActivity.<span style=\"color: #000000; font-weight: bold;\">this<\/span>.<span style=\"color: #006600;\">finish<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n           <span style=\"color: #66cc66;\">&#125;<\/span>\n       <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>\n       .<span style=\"color: #006600;\">setNegativeButton<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;No&quot;<\/span>, <span style=\"color: #000000; font-weight: bold;\">new<\/span> DialogInterface.<span style=\"color: #006600;\">OnClickListener<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n           <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onClick<span style=\"color: #66cc66;\">&#40;<\/span>DialogInterface dialog, <span style=\"color: #993333;\">int<\/span> id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                dialog.<span style=\"color: #006600;\">cancel<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n           <span style=\"color: #66cc66;\">&#125;<\/span>\n       <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nAlertDialog alert = builder.<span style=\"color: #006600;\">create<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u9996\u5148\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u7528setMessage(CharSequence)\u521b\u5efa\u4fe1\u606f\uff0c\u7136\u540e\u4e0d\u80fd\u5728\u6bcf\u4e2a\u6309\u94ae\u4e0a\u7528setCancelable(boolean)\u65b9\u6cd5\u53d6\u6d88\u5b9a\u4e49\u597d\u7684\u5bf9\u8bdd\u6846\u3002\uff08\u6240\u4ee5\u7528\u6237\u4e0d\u80fd\u7528\u8fd4\u56de\u6309\u94ae\u5173\u95ed\u5bf9\u8bdd\u6846\uff09\uff0c\u4f7f\u7528\u4e00\u4e2aset...Button() \u65b9\u6cd5\uff0c\u6bd4\u5982setPositiveButton()\u65b9\u6cd5\u3002\u5728\u7528\u6237\u8bbe\u7f6e\u597d\u6309\u94ae\u540d\u79f0\u540e\u5b9a\u4e49DialogInterface.OnClickListener \u6765\u76d1\u542c\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>\u6ce8\u610f:<\/b> \u4f60\u5728\u4e00\u4e2a\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e2d\u53ea\u80fd\u6dfb\u52a0\u4e00\u79cd\u6309\u94ae\u7c7b\u578b\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u4e0d\u80fd\u6dfb\u52a0\u591a\u79cd\u201c\u5df2\u77e5\u7c7b\u578b\u7684\u201d\u6309\u94ae \u3002\u8fd9\u4e09\u79cd\u7c7b\u578b\u7684\u6309\u94ae\u662f\uff1a\u786e\u5b9a\uff0c\u666e\u901a\u548c\u53d6\u6d88\u3002\u901a\u8fc7\u540d\u5b57\u53ef\u4ee5\u770b\u51fa\u4f60\u7684\u6309\u94ae\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4f46\u662f\u53ef\u4ee5\u5e2e\u5fd9\u4f60\u786e\u5b9a\u6267\u884c\u54ea\u4e00\u79cd\u7c7b\u578b\u7684\u64cd\u4f5c\u3002\n<\/p>\n<\/div>\n<h3> <span class=\"mw-headline\" id=\".E6.B7.BB.E5.8A.A0.E5.88.97.E8.A1.A8\">\u6dfb\u52a0\u5217\u8868<\/span><\/h3>\n<p>\u53ef\u4ee5\u4f7f\u7528setItems()\u65b9\u6cd5\u6765\u521b\u5efa\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e0a\u7684\u9009\u62e9\u5217\u8868\u5bf9\u8c61\u3002\n<\/p>\n<div style=\"width:292px; float:right;border:4px solid #DEE8F1; padding:0 5px 5px\">\n<p><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_list.png\" alt=\"dialog_list.png\" \/>\n<\/p>\n<\/div>\n<pre class=\"java\">&#160;\n<span style=\"color: #000000; font-weight: bold;\">final<\/span> CharSequence<span style=\"color: #66cc66;\">&#91;<\/span><span style=\"color: #66cc66;\">&#93;<\/span> items = <span style=\"color: #66cc66;\">&#123;<\/span><span style=\"color: #ff0000;\">&quot;Red&quot;<\/span>, <span style=\"color: #ff0000;\">&quot;Green&quot;<\/span>, <span style=\"color: #ff0000;\">&quot;Blue&quot;<\/span><span style=\"color: #66cc66;\">&#125;<\/span>;\nAlertDialog.<span style=\"color: #006600;\">Builder<\/span> builder = <span style=\"color: #000000; font-weight: bold;\">new<\/span> AlertDialog.<span style=\"color: #006600;\">Builder<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">this<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setTitle<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Pick a color&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setItems<\/span><span style=\"color: #66cc66;\">&#40;<\/span>items, <span style=\"color: #000000; font-weight: bold;\">new<\/span> DialogInterface.<span style=\"color: #006600;\">OnClickListener<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onClick<span style=\"color: #66cc66;\">&#40;<\/span>DialogInterface dialog, <span style=\"color: #993333;\">int<\/span> item<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        Toast.<span style=\"color: #006600;\">makeText<\/span><span style=\"color: #66cc66;\">&#40;<\/span>getApplicationContext<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>, items<span style=\"color: #66cc66;\">&#91;<\/span>item<span style=\"color: #66cc66;\">&#93;<\/span>, Toast.<span style=\"color: #006600;\">LENGTH_SHORT<\/span><span style=\"color: #66cc66;\">&#41;<\/span>.<span style=\"color: #006600;\">show<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n    <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nAlertDialog alert = builder.<span style=\"color: #006600;\">create<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u9996\u5148\u7528setTitle(CharSequence)\u7ed9\u5bf9\u8bdd\u6846\u8bbe\u7f6e\u4e00\u4e2a\u6807\u9898\u3002\u7136\u540e\u7528setItems()\u6dfb\u52a0\u53ef\u4ee5\u9009\u62e9\u5217\u8868\u548c\u5bf9\u8bdd\u6846\u63a5\u53e3\uff0c\u7136\u540e\u7528OnClickListener\u65b9\u6cd5\u6765\u76d1\u542c\u7528\u6237\u9009\u62e9\u9879\u7684\u89e6\u53d1\u4e8b\u4ef6\u3002 \n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E6.B7.BB.E5.8A.A0.E5.A4.8D.E9.80.89.E5.92.8C.E5.8D.95.E9.80.89.E6.8C.89.E9.92.AE\">\u6dfb\u52a0\u590d\u9009\u548c\u5355\u9009\u6309\u94ae<\/span><\/h3>\n<div style=\"width:292px; float:right;border:4px solid #DEE8F1; padding:0 5px 5px\">\n<pre><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_singlechoicelist.png\" alt=\"dialog_singlechoicelist.png\" \/>\n<\/pre>\n<\/div>\n<p>\u7528setMultiChoiceItems() \u548csetSingleChoiceItems()\u65b9\u6cd5\u53ef\u4ee5\u5728\u5bf9\u8bdd\u6846\u91cc\u9762\u6dfb\u52a0\u5404\u81ea\u7684\u4e00\u4e2a\u591a\u9009\u9879\uff08\u591a\u9009\u6846\uff09\u6216\u5355\u9009\u9879\uff08\u70b9\u9009\u6309\u94ae\uff09\u3002\u5982\u679c\u4f60\u7528onCreateDialog() \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a\u590d\u9009\u9879\uff0c\u53ea\u8981Activity\u662f\u6fc0\u6d3b\u72b6\u6001\uff0cAndroid\u4f1a\u5e2e\u4f60\u7ba1\u7406\u3002\u5982\u679c\u7528\u6237\u9000\u51fa\u6d3b\u52a8\uff0c\u90a3\u4e48\u9009\u9879\u5c06\u4f1a\u4e22\u5931\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>\u6ce8\u610f:<\/b> \u5f53\u7528\u6237\u79bb\u5f00\u6216\u6682\u505c\u8fd9\u4e2aActivity\u662f\u4fdd\u5b58\u9009\u62e9,\u4f60\u5fc5\u987b\u5728\u5f53\u524dactivity \u7684\u751f\u547d\u5468\u671f\u4e2d\u8fdb\u884c\u4fdd\u5b58\u4e0e\u6062\u590d\u3002 \u5982\u679c\u4f60\u8981\u5728\u5173\u95ed\u8fd9\u4e2a\u6d3b\u52a8\u7684\u8fdb\u7a0b\u65f6\u8981\u957f\u65f6\u95f4\u4fdd\u5b58\u8fd9\u9009\u9879\uff0c\u90a3\u5fc5\u987b\u8981\u7528\u4e00\u4e2a\u6570\u636e\u53d8\u91cf\u5b58\u50a8\u6765\u8fdb\u884c\u957f\u65f6\u95f4\u4fdd\u5b58\u3002 \n<\/p>\n<\/div>\n<p>\u521b\u5efa\u5982\u53f3\u56fe\u90a3\u6837\u7684\u5355\u9009\u5217\u8868\u5bf9\u8bdd\u6846\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0e\u4f8b\u5b50\u76f8\u540c\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u8981\u628asetItems()\u65b9\u6cd5\u66ff\u6362\u4e3asetSingleChoiceItems():\n<\/p>\n<pre class=\"java\">&#160;\n<span style=\"color: #000000; font-weight: bold;\">final<\/span> CharSequence<span style=\"color: #66cc66;\">&#91;<\/span><span style=\"color: #66cc66;\">&#93;<\/span> items = <span style=\"color: #66cc66;\">&#123;<\/span><span style=\"color: #ff0000;\">&quot;Red&quot;<\/span>, <span style=\"color: #ff0000;\">&quot;Green&quot;<\/span>, <span style=\"color: #ff0000;\">&quot;Blue&quot;<\/span><span style=\"color: #66cc66;\">&#125;<\/span>;\nAlertDialog.<span style=\"color: #006600;\">Builder<\/span> builder = <span style=\"color: #000000; font-weight: bold;\">new<\/span> AlertDialog.<span style=\"color: #006600;\">Builder<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">this<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setTitle<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Pick a color&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setSingleChoiceItems<\/span><span style=\"color: #66cc66;\">&#40;<\/span>items, <span style=\"color: #cc66cc;\">-1<\/span>, <span style=\"color: #000000; font-weight: bold;\">new<\/span> DialogInterface.<span style=\"color: #006600;\">OnClickListener<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onClick<span style=\"color: #66cc66;\">&#40;<\/span>DialogInterface dialog, <span style=\"color: #993333;\">int<\/span> item<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        Toast.<span style=\"color: #006600;\">makeText<\/span><span style=\"color: #66cc66;\">&#40;<\/span>getApplicationContext<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>, items<span style=\"color: #66cc66;\">&#91;<\/span>item<span style=\"color: #66cc66;\">&#93;<\/span>, Toast.<span style=\"color: #006600;\">LENGTH_SHORT<\/span><span style=\"color: #66cc66;\">&#41;<\/span>.<span style=\"color: #006600;\">show<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n    <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nAlertDialog alert = builder.<span style=\"color: #006600;\">create<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u5728setSingleChoiceItems() \u65b9\u6cd5\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u662f\u9488\u5bf9\u590d\u9009\u5bf9\u8c61\u7684\u6574\u5f62\u503c\u3002\u5f53\u4e3a0\u65f6\uff0c\u8868\u793a\u5217\u8868\u9009\u62e9\u7684\u662f\u9ed8\u8ba4\u9879\u3002\u5f53\u4e3a\u201c-1\u201d\u65f6\u8868\u793a\u6ca1\u6709\u4efb\u4f55\u9879\u88ab\u9009\u4e2d\u3002\n<\/p>\n<h1> <span class=\"mw-headline\" id=\".E5.88.9B.E5.BB.BA.E8.BF.9B.E5.BA.A6.E5.AF.B9.E8.AF.9D.E6.A1.86\">\u521b\u5efa\u8fdb\u5ea6\u5bf9\u8bdd\u6846<\/span><\/h1>\n<p><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_progress_spinning.png\" alt=\"dialog_progress_spinning.png\" \/>\n<\/p><p><br \/>\n\u8fdb\u5ea6\u5bf9\u8bdd\u6846\u7ee7\u627f\u5f39\u51fa\u5bf9\u8bdd\u6846\u7c7b\u3002\u5b83\u53ef\u4ee5\u5728\u8fdb\u7a0b\u4efb\u52a1\u8fd0\u884c\u4e2d\uff0c\u663e\u793a\u5728\u524d\u9762\u7684\u4e00\u4e2a\u7eba\u8f66\u7684\u52a8\u753b\u8fdb\u5ea6\u6761\uff0c\u6216\u8005\u4e00\u4e2a\u4e0d\u786e\u5b9a\u8fdb\u5ea6\u7684\u8fdb\u5ea6\u6761\uff0c\u5bf9\u8bdd\u6846\u4f1a\u4e00\u76f4\u63d0\u4f9b\u6309\u94ae\uff0c\u6bd4\u5982\u53d6\u6d88\u4e0b\u8f7d\n<\/p><p>\u7528ProgressDialog.show()\u65b9\u6cd5\u53ef\u4ee5\u7b80\u5355\u7684\u6253\u5f00\u8fdb\u5ea6\u6761\u5bf9\u8bdd\u6846\uff0c\u4f8b\u5982\u53f3\u4fa7\u6240\u793a\u7684\u8fdb\u5ea6\u5bf9\u8bdd\u6846\uff0c\u901a\u8fc7onCreateDialog(int)\u8c03\u7528\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u4e0d\u7528\u7ba1\u7406\u7684\u5bf9\u8bdd\u6846\uff0c\u5982\u4e0b\u6240\u793a\uff1a\n<\/p>\n<pre>\nProgressDialog dialog = ProgressDialog.show(MyActivity.this, &quot;&quot;,\n                         &quot;Loading. Please wait...&quot;, true);\n<\/pre>\n<p>\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5e94\u7528\u80cc\u666f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6807\u9898\u5bf9\u8bdd\u6846\uff08\u5de6\u8fb9\u4e3a\u7a7a\uff09\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u663e\u793a\u4fe1\u606f\uff0c\u548c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u662f\u5426\u663e\u793a\u8fdb\u5ea6\u6761\uff08\u8fd9\u662f\u552f\u4e00\u4e0e\u521b\u5efa\u8fdb\u5ea6\u6761\u76f8\u5173\uff0c\u8fd9\u4e2a\u5728\u4e0b\u4e00\u8282\u8ba8\u8bba\uff09\u3002\n<\/p><p>\u9ed8\u8ba4\u6837\u5f0f\u7684\u8fdb\u5ea6\u5bf9\u8bdd\u6846\u662f\u8f6c\u8f6e\u3002\u5982\u679c\u4f60\u60f3\u521b\u5efa\u4e00\u4e2a\u663e\u793a\u52a0\u8f7d\u8fdb\u5ea6\u7684\u8fdb\u5ea6\u680f\uff0c\u4e0b\u4e00\u8282\u5c06\u5bf9\u66f4\u591a\u7684\u5fc5\u8981\u4ee3\u7801\u8fdb\u884c\u8ba8\u8bba\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E6.98.BE.E7.A4.BA.E8.BF.9B.E5.BA.A6.E6.9D.A1\">\u663e\u793a\u8fdb\u5ea6\u6761<\/span><\/h3>\n<p><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_progress_bar.png\" alt=\"dialog_progress_bar.png\" \/>\n<\/p><p><br \/>\n\u663e\u793a\u7684\u8fdb\u5c55\u7684\u52a8\u753b\u8fdb\u5ea6\u6761\uff1a\n<\/p><p>1.\u5b9e\u4f8b\u8bdd\u8fdb\u5ea6\u6761\u5bf9\u8bdd\u6846\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0cProgressDialog(Context).\n<\/p><p>2.\u53ef\u4ee5\u901a\u8fc7 setProgressStyle(int) \u6765\u5bf9\u8fdb\u5ea6\u6761\u7684\u6837\u5f0f\"STYLE_HORIZONTAL\"\u8fdb\u884c\u8bbe\u7f6e\uff0c\u6bd4\u5982\uff1a\u4fe1\u606f\n<\/p><p>3.\u5f53\u4f60\u60f3\u663e\u793a\u5bf9\u8bdd\u6846\u65f6\uff0c\u53ef\u4ee5\u8c03\u7528show()\u65b9\u6cd5\uff0c\u6216\u8005\u5728onCreateDialog(int)\u65b9\u6cd5\u8fd4\u56de\u8fdb\u5ea6\u6761\u5bf9\u8bdd\u6846\u3002\n<\/p><p>4.\u4f60\u53ef\u4ee5\u589e\u52a0\u8fdb\u5ea6\u6761\u7684\u663e\u793a\u503c\uff0c\u5728\u6846\u4e2d\u8c03\u7528setProgress(int)\u6765\u8bbe\u7f6e\u603b\u7684\u5b8c\u6210\u767e\u5206\u6bd4\u7684\u503c\u3002\u6216\u8005\u7528incrementProgressBy(int)\u65b9\u6cd5\u6765\u8bbe\u7f6e\u52a0\u5230\u5b8c\u6210\u7684\u8fdb\u5ea6\u3002\n<\/p><p>\u4f8b\u5982\uff0c\u4f60\u7684\u8bbe\u7f6e\u53ef\u80fd\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a\n<\/p>\n<pre>\nProgressDialog progressDialog;\nprogressDialog = new ProgressDialog(mContext);\nprogressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\nprogressDialog.setMessage(&quot;Loading...&quot;);\nprogressDialog.setCancelable(false);\n<\/pre>\n<p>\u8bbe\u7f6e\u6bd4\u8f83\u7b80\u5355\uff0c\u4f46\u66f4\u591a\u7684\u4ee3\u7801\u662f\u8981\u5728\u4e3b\u6d3b\u52a8\u7684\u8fd0\u884c\u4e2d\u8fdb\u884c\u521b\u5efa\u548c\u66f4\u65b0\u7684\u3002\u4f60\u4f1a\u53d1\u73b0\u5728\u5f53\u524d\u6d3b\u52a8\u7684\u754c\u9762\u5916\u5fc5\u987b\u521b\u5efa\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6765\u7ba1\u7406\u8fdb\u5ea6\u6761\u3002\u5982\u679c\u4f60\u4e0d\u719f\u6089\u4f7f\u7528\u989d\u5916\u7684\u7ebf\u7a0b\u5904\u7406\u7a0b\u5e8f\uff0c\u770b\u770b\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u662f\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u6765\u589e\u52a0\u4e00\u4e2a\u8fdb\u5ea6\u5bf9\u8bdd\u6846\u7ba1\u7406\u6d3b\u52a8\u3002\n<\/p><p>\u53e6\u4e00\u7ebf\u7a0b\u5e8f\u8fdb\u5ea6\u6267\u884c\u8fdb\u5ea6\u6761\u7684\u4f8b\u5b50\u3002\n<\/p><p>\u8fd9\u4e2a\u4f8b\u5b50\u662f\u7528\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6765\u8ddf\u8e2a\u4e3b\u8fdb\u7ebf\u7a0b (\u5f53\u4e3b\u6d3b\u52a8\u6570\u5b57\u5b9e\u9645\u5230100). \u4e3b\u6d3b\u52a8\u5728\u6bcf\u65f6\u90fd\u4f1a\u53d1\u9001\u4fe1\u606f\u7ed9\u8fdb\u5ea6\u5bf9\u8bdd\u6846\uff0c\u4ece\u800c\u66f4\u65b0\u8fdb\u5ea6\u5bf9\u8bdd\u6846\u3002\n<\/p>\n<pre class=\"java\">&#160;\n<span style=\"color: #000000; font-weight: bold;\">package<\/span> com.<span style=\"color: #006600;\">example<\/span>.<span style=\"color: #006600;\">progressdialog<\/span>;\n<span style=\"color: #a1a100;\">import android.app.Activity;<\/span>\n<span style=\"color: #a1a100;\">import android.app.Dialog;<\/span>\n<span style=\"color: #a1a100;\">import android.app.ProgressDialog;<\/span>\n<span style=\"color: #a1a100;\">import android.os.Bundle;<\/span>\n<span style=\"color: #a1a100;\">import android.os.Handler;<\/span>\n<span style=\"color: #a1a100;\">import android.os.Message;<\/span>\n<span style=\"color: #a1a100;\">import android.view.View;<\/span>\n<span style=\"color: #a1a100;\">import android.view.View.OnClickListener;<\/span>\n<span style=\"color: #a1a100;\">import android.widget.Button;<\/span>\n<span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #000000; font-weight: bold;\">class<\/span> NotificationTest <span style=\"color: #000000; font-weight: bold;\">extends<\/span> Activity <span style=\"color: #66cc66;\">&#123;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">static<\/span> <span style=\"color: #000000; font-weight: bold;\">final<\/span> <span style=\"color: #993333;\">int<\/span> PROGRESS_DIALOG = <span style=\"color: #cc66cc;\">0<\/span>;\n    <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AButton+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Button<\/span><\/a> button;\n    ProgressThread progressThread;\n    ProgressDialog progressDialog;       <span style=\"color: #808080; font-style: italic;\">\/** \u5f53\u6d3b\u52a8\u662f\u7b2c\u4e00\u6b21\u521b\u5efa. *\/<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onCreate<span style=\"color: #66cc66;\">&#40;<\/span>Bundle savedInstanceState<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #000000; font-weight: bold;\">super<\/span>.<span style=\"color: #006600;\">onCreate<\/span><span style=\"color: #66cc66;\">&#40;<\/span>savedInstanceState<span style=\"color: #66cc66;\">&#41;<\/span>;\n        setContentView<span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">layout<\/span>.<span style=\"color: #006600;\">main<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;        <span style=\"color: #808080; font-style: italic;\">\/\/ \u8bbe\u7f6e\u6309\u94ae\u5f00\u59cb\u8fdb\u5ea6\u5bf9\u8bdd\u6846<\/span>\n        button = <span style=\"color: #66cc66;\">&#40;<\/span><a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AButton+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Button<\/span><\/a><span style=\"color: #66cc66;\">&#41;<\/span> findViewById<span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">progressDialog<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n        button.<span style=\"color: #006600;\">setOnClickListener<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">new<\/span> OnClickListener<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span><span style=\"color: #66cc66;\">&#123;<\/span>\n            <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onClick<span style=\"color: #66cc66;\">&#40;<\/span><a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AView+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">View<\/span><\/a> v<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                showDialog<span style=\"color: #66cc66;\">&#40;<\/span>PROGRESS_DIALOG<span style=\"color: #66cc66;\">&#41;<\/span>;\n            <span style=\"color: #66cc66;\">&#125;<\/span>\n        <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n     <span style=\"color: #66cc66;\">&#125;<\/span>\n       <span style=\"color: #000000; font-weight: bold;\">protected<\/span> <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a> onCreateDialog<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #993333;\">int<\/span> id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #b1b100;\">switch<\/span><span style=\"color: #66cc66;\">&#40;<\/span>id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #b1b100;\">case<\/span> PROGRESS_DIALOG:\n            progressDialog = <span style=\"color: #000000; font-weight: bold;\">new<\/span> ProgressDialog<span style=\"color: #66cc66;\">&#40;<\/span>NotificationTest.<span style=\"color: #000000; font-weight: bold;\">this<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n            progressDialog.<span style=\"color: #006600;\">setProgressStyle<\/span><span style=\"color: #66cc66;\">&#40;<\/span>ProgressDialog.<span style=\"color: #006600;\">STYLE_HORIZONTAL<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n            progressDialog.<span style=\"color: #006600;\">setMessage<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Loading...&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n            <span style=\"color: #000000; font-weight: bold;\">return<\/span> progressDialog;\n        <span style=\"color: #000000; font-weight: bold;\">default<\/span>:\n            <span style=\"color: #000000; font-weight: bold;\">return<\/span> <span style=\"color: #000000; font-weight: bold;\">null<\/span>;\n        <span style=\"color: #66cc66;\">&#125;<\/span>\n    <span style=\"color: #66cc66;\">&#125;<\/span>\n    @Override\n    <span style=\"color: #000000; font-weight: bold;\">protected<\/span> <span style=\"color: #993333;\">void<\/span> onPrepareDialog<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #993333;\">int<\/span> id, <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a> dialog<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #b1b100;\">switch<\/span><span style=\"color: #66cc66;\">&#40;<\/span>id<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #b1b100;\">case<\/span> PROGRESS_DIALOG:\n            progressDialog.<span style=\"color: #006600;\">setProgress<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #cc66cc;\">0<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n            progressThread = <span style=\"color: #000000; font-weight: bold;\">new<\/span> ProgressThread<span style=\"color: #66cc66;\">&#40;<\/span>handler<span style=\"color: #66cc66;\">&#41;<\/span>;\n            progressThread.<span style=\"color: #006600;\">start<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n    <span style=\"color: #66cc66;\">&#125;<\/span>\n    <span style=\"color: #808080; font-style: italic;\">\/\/ Define the Handler that receives messages from the thread and update the progress<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">final<\/span> Handler handler = <span style=\"color: #000000; font-weight: bold;\">new<\/span> Handler<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> handleMessage<span style=\"color: #66cc66;\">&#40;<\/span>Message msg<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n            <span style=\"color: #993333;\">int<\/span> total = msg.<span style=\"color: #006600;\">arg1<\/span>;\n            progressDialog.<span style=\"color: #006600;\">setProgress<\/span><span style=\"color: #66cc66;\">&#40;<\/span>total<span style=\"color: #66cc66;\">&#41;<\/span>;\n            <span style=\"color: #b1b100;\">if<\/span> <span style=\"color: #66cc66;\">&#40;<\/span>total &gt;= <span style=\"color: #cc66cc;\">100<\/span><span style=\"color: #66cc66;\">&#41;<\/span><span style=\"color: #66cc66;\">&#123;<\/span>\n                dismissDialog<span style=\"color: #66cc66;\">&#40;<\/span>PROGRESS_DIALOG<span style=\"color: #66cc66;\">&#41;<\/span>;\n                progressThread.<span style=\"color: #006600;\">setState<\/span><span style=\"color: #66cc66;\">&#40;<\/span>ProgressThread.<span style=\"color: #006600;\">STATE_DONE<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n            <span style=\"color: #66cc66;\">&#125;<\/span>\n        <span style=\"color: #66cc66;\">&#125;<\/span>\n    <span style=\"color: #66cc66;\">&#125;<\/span>;\n    <span style=\"color: #808080; font-style: italic;\">\/** \u5d4c\u5957\u7c7b\uff0c\u6267\u884c\u8fdb\u5ea6\uff08\u8bb0\u6570\uff09 *\/<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">private<\/span> <span style=\"color: #000000; font-weight: bold;\">class<\/span> ProgressThread <span style=\"color: #000000; font-weight: bold;\">extends<\/span> <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AThread+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Thread<\/span><\/a> <span style=\"color: #66cc66;\">&#123;<\/span>\n        Handler mHandler;\n        <span style=\"color: #000000; font-weight: bold;\">final<\/span> <span style=\"color: #000000; font-weight: bold;\">static<\/span> <span style=\"color: #993333;\">int<\/span> STATE_DONE = <span style=\"color: #cc66cc;\">0<\/span>;\n        <span style=\"color: #000000; font-weight: bold;\">final<\/span> <span style=\"color: #000000; font-weight: bold;\">static<\/span> <span style=\"color: #993333;\">int<\/span> STATE_RUNNING = <span style=\"color: #cc66cc;\">1<\/span>;\n        <span style=\"color: #993333;\">int<\/span> mState;\n        <span style=\"color: #993333;\">int<\/span> total;\n               ProgressThread<span style=\"color: #66cc66;\">&#40;<\/span>Handler h<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n            mHandler = h;\n        <span style=\"color: #66cc66;\">&#125;<\/span>\n               <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> run<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n            mState = STATE_RUNNING;\n               total = <span style=\"color: #cc66cc;\">0<\/span>;\n            <span style=\"color: #b1b100;\">while<\/span> <span style=\"color: #66cc66;\">&#40;<\/span>mState == STATE_RUNNING<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                <span style=\"color: #000000; font-weight: bold;\">try<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                    <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AThread+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Thread<\/span><\/a>.<span style=\"color: #006600;\">sleep<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #cc66cc;\">100<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n                <span style=\"color: #66cc66;\">&#125;<\/span> <span style=\"color: #000000; font-weight: bold;\">catch<\/span> <span style=\"color: #66cc66;\">&#40;<\/span><a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AInterruptedException+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">InterruptedException<\/span><\/a> e<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n                    Log.<span style=\"color: #006600;\">e<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;ERROR&quot;<\/span>, <span style=\"color: #ff0000;\">&quot;Thread Interrupted&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n                <span style=\"color: #66cc66;\">&#125;<\/span>\n                Message msg = mHandler.<span style=\"color: #006600;\">obtainMessage<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n                msg.<span style=\"color: #006600;\">arg1<\/span> = total;\n                mHandler.<span style=\"color: #006600;\">sendMessage<\/span><span style=\"color: #66cc66;\">&#40;<\/span>msg<span style=\"color: #66cc66;\">&#41;<\/span>;\n                total++;\n            <span style=\"color: #66cc66;\">&#125;<\/span>\n        <span style=\"color: #66cc66;\">&#125;<\/span>\n                <span style=\"color: #808080; font-style: italic;\">\/* sets the current state for the thread,\n         * used to stop the thread *\/<\/span>\n        <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> setState<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #993333;\">int<\/span> state<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n            mState = state;\n        <span style=\"color: #66cc66;\">&#125;<\/span>\n    <span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#125;<\/span>\n&#160;<\/pre>\n<h1> <span class=\"mw-headline\" id=\".E5.88.9B.E5.BB.BA.E8.87.AA.E5.AE.9A.E4.B9.89.E5.AF.B9.E8.AF.9D.E6.A1.86\">\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846<\/span><\/h1>\n<p><img src=\"http:\/\/docs.eoeandroid.com\/images\/dialog_custom.png\" alt=\"dialog_custom.png\" \/>\n<\/p><p><br \/>\n\u5982\u679c\u4f60\u60f3\u8981\u4e00\u4e2a\u5b9a\u5236\u8bbe\u8ba1\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528setContentView(View)\u65b9\u6cd5\uff0c\u901a\u8fc7\u6839\u89c6\u56fe\u5bf9\u8c61\u6216\u5e03\u5c40\u8d44\u6e90\u8eab\u4efd\u6765\u5b9a\u4e49\u4f60\u7684\u5e03\u5c40\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u81ea\u5df1\u7684\u5e03\u5c40\u7684\u5bf9\u8bdd\u7a97\u53e3\u5e03\u5c40\u548c\u90e8\u4ef6\u7684\u5143\u7d20\u3002\n<\/p><p>\u4f8b\uff1a\u521b\u5efa\u53f3\u8fb9\u663e\u793a\u7684\u5bf9\u8bdd\u6846\n<\/p><p>1.\u521b\u5efaXML\u5e03\u5c40\u6587\u4ef6\uff0c\u4fdd\u5b58\u4e3acustom_dialog.xml: \n<\/p>\n<pre class=\"java\">&#160;\n&lt;LinearLayout xmlns:android=<span style=\"color: #ff0000;\">&quot;http:\/\/schemas.android.com\/apk\/res\/android&quot;<\/span>\n              android:id=<span style=\"color: #ff0000;\">&quot;@+id\/layout_root&quot;<\/span>\n              android:orientation=<span style=\"color: #ff0000;\">&quot;horizontal&quot;<\/span>\n              android:layout_width=<span style=\"color: #ff0000;\">&quot;fill_parent&quot;<\/span>\n              android:layout_height=<span style=\"color: #ff0000;\">&quot;fill_parent&quot;<\/span>\n              android:padding=<span style=\"color: #ff0000;\">&quot;10dp&quot;<\/span>\n              &gt;\n    &lt;ImageView android:id=<span style=\"color: #ff0000;\">&quot;@+id\/image&quot;<\/span>\n               android:layout_width=<span style=\"color: #ff0000;\">&quot;wrap_content&quot;<\/span>\n               android:layout_height=<span style=\"color: #ff0000;\">&quot;fill_parent&quot;<\/span>\n               android:layout_marginRight=<span style=\"color: #ff0000;\">&quot;10dp&quot;<\/span>\n               \/&gt;\n    &lt;TextView android:id=<span style=\"color: #ff0000;\">&quot;@+id\/text&quot;<\/span>\n              android:layout_width=<span style=\"color: #ff0000;\">&quot;wrap_content&quot;<\/span>\n              android:layout_height=<span style=\"color: #ff0000;\">&quot;fill_parent&quot;<\/span>\n              android:textColor=<span style=\"color: #ff0000;\">&quot;#FFF&quot;<\/span>\n              \/&gt;\n&lt;\/LinearLayout&gt;\n&#160;<\/pre>\n<p>\u8fd9\u4e2aXML\u5b9a\u4e49\u4e86\u4e00\u4e2a\u56fe\u7247\u6587\u672c\u6846\u548c\u4e00\u6587\u672c\u6846\u5728\u540c\u4e00\u884c\u91cc\u3002\n<\/p><p>2.\u8bbe\u7f6e\u4e0a\u9762\u5e03\u5c40\u4e2d\u7684\u56fe\u7247\u6587\u672c\u6846\u548c\u6587\u672c\u6846\u91cc\u7684\u5143\u7d20\u5185\u5bb9\u4e0e\u5c5e\u6027\u3002\n<\/p>\n<pre class=\"java\">&#160;\n<a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AContext+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Context<\/span><\/a> mContext = getApplicationContext<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n<a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a> dialog = <span style=\"color: #000000; font-weight: bold;\">new<\/span> <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3ADialog+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Dialog<\/span><\/a><span style=\"color: #66cc66;\">&#40;<\/span>mContext<span style=\"color: #66cc66;\">&#41;<\/span>;\ndialog.<span style=\"color: #006600;\">setContentView<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">layout<\/span>.<span style=\"color: #006600;\">custom_dialog<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\ndialog.<span style=\"color: #006600;\">setTitle<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Custom Dialog&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nTextView text = <span style=\"color: #66cc66;\">&#40;<\/span>TextView<span style=\"color: #66cc66;\">&#41;<\/span> dialog.<span style=\"color: #006600;\">findViewById<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">text<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\ntext.<span style=\"color: #006600;\">setText<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Hello, this is a custom dialog!&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nImageView image = <span style=\"color: #66cc66;\">&#40;<\/span>ImageView<span style=\"color: #66cc66;\">&#41;<\/span> dialog.<span style=\"color: #006600;\">findViewById<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">image<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nimage.<span style=\"color: #006600;\">setImageResource<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">drawable<\/span>.<span style=\"color: #006600;\">android<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u5728\u4f60\u5b9e\u4f8b\u5316\u5bf9\u8bdd\u6846\u540e\uff0c\u7528setContentView(int)\u901a\u8fc7\u6807\u8bc6\u7b26\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5e03\u5c40\u5bf9\u8bdd\u6846\u7684\u5185\u5bb9\u89c6\u56fe\u3002\u901a\u8fc7findViewById(int) \u627e\u5230\u89c6\u56fe\u5bf9\u8c61\uff0c\u7136\u540e\u8fdb\u884c\u4fee\u6539\u3002\n<\/p><p>3.\u73b0\u5728\u4f60\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u663e\u793a\u7684\u5bf9\u8bdd\u6846\u4e86\u3002\n<\/p><p>\u7528\u5bf9\u8bdd\u6846\u7c7b\u505a\u4e00\u4e2a\u5bf9\u8bdd\u6846\u5fc5\u987b\u8981\u6709\u6807\u9898\u3002\u5982\u679c\u6ca1\u4f60\u6ca1\u7528setTitle()\u65b9\u6cd5\uff0c\u6807\u9898\u867d\u7136\u662f\u7a7a\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u770b\u5230\u3002\u5982\u679c\u4f60\u4e0d\u60f3\u8bbe\u7f6e\u6240\u6709\u7684\u6807\u9898\u3002\u4f60\u968f\u65f6\u53ef\u4ee5\u4f7f\u7528\u5f39\u51fa\u5bf9\u8bdd\u6846\u7c7b\u6765\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846\u3002\u56e0\u4e3aAlertDialog.Builder \u7c7b\uff0c\u53ef\u4ee5\u521b\u5efa\u7b80\u5355\u7684\u5f39\u51fa\u5bf9\u8bdd\u6846\u3002\u4f60\u53ef\u4ee5\u4e0d\u7528\u6267\u884csetContentView(int)\u65b9\u6cd5\uff0c\u76f8\u53cd\uff0c\u4f60\u5fc5\u987b\u7528setView(View)\u65b9\u6cd5\u6765\u8bbe\u7f6e\u89c6\u56fe\u5bf9\u8c61\uff0c\u6240\u6307\u5411XML\u6587\u4ef6\u6839\u89c6\u56fe\u5bf9\u8c61\u3002\n<\/p><p>\u5728XML\u4e2d\u589e\u52a0\u597d\u5e03\u5c40\uff0c\u7528getLayoutInflater()\uff08\u6216\u8005getSystemService()\u65b9\u6cd5\uff09\u6765\u68c0\u7d22LayoutInflater\u3002\u7136\u540e\u8c03\u7528inflate(int, ViewGroup)\u65b9\u6cd5\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8eab\u4efd\u6807\u8bc6\uff0c\u7b2c\u4e8c\u4e2a\u662f\u6839\u89c6\u56fe\u8eab\u4efd\u6807\u8bc6\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u627e\u5230\u89c6\u56fe\u5bf9\u8c61\u7684\u5e03\u5c40\u548c\u5185\u5bb9\uff0c\u4ece\u800c\u5b9a\u4f4d\u5728\u56fe\u7247\u6846\u548c\u6587\u672c\u6846\u5143\u7d20\u3002\u5b9e\u4f8b\u5316AlertDialog.Builder\u7c7b\u540e\u518d\u7528 setView(View)\u8bbe\u7f6e\u5bf9\u8bdd\u6846\u8bbe\u7f6e\u5e03\u5c40\u3002\n<\/p><p>\u8fd9\u662f\u4e00\u4e2a\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8bdd\u6846\u5e03\u5c40\u7684\u4f8b\u5b50\uff1a\n<\/p>\n<pre class=\"java\">&#160;\nAlertDialog.<span style=\"color: #006600;\">Builder<\/span> builder;\nAlertDialog alertDialog;Context mContext = getApplicationContext<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nLayoutInflater inflater = <span style=\"color: #66cc66;\">&#40;<\/span>LayoutInflater<span style=\"color: #66cc66;\">&#41;<\/span> mContext.<span style=\"color: #006600;\">getSystemService<\/span><span style=\"color: #66cc66;\">&#40;<\/span>LAYOUT_INFLATER_SERVICE<span style=\"color: #66cc66;\">&#41;<\/span>;\n<a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AView+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">View<\/span><\/a> layout = inflater.<span style=\"color: #006600;\">inflate<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">layout<\/span>.<span style=\"color: #006600;\">custom_dialog<\/span>,\n                               <span style=\"color: #66cc66;\">&#40;<\/span>ViewGroup<span style=\"color: #66cc66;\">&#41;<\/span> findViewById<span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">layout_root<\/span><span style=\"color: #66cc66;\">&#41;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nTextView text = <span style=\"color: #66cc66;\">&#40;<\/span>TextView<span style=\"color: #66cc66;\">&#41;<\/span> layout.<span style=\"color: #006600;\">findViewById<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">text<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\ntext.<span style=\"color: #006600;\">setText<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;Hello, this is a custom dialog!&quot;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nImageView image = <span style=\"color: #66cc66;\">&#40;<\/span>ImageView<span style=\"color: #66cc66;\">&#41;<\/span> layout.<span style=\"color: #006600;\">findViewById<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">image<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nimage.<span style=\"color: #006600;\">setImageResource<\/span><span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">drawable<\/span>.<span style=\"color: #006600;\">android<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder = <span style=\"color: #000000; font-weight: bold;\">new<\/span> AlertDialog.<span style=\"color: #006600;\">Builder<\/span><span style=\"color: #66cc66;\">&#40;<\/span>mContext<span style=\"color: #66cc66;\">&#41;<\/span>;\nbuilder.<span style=\"color: #006600;\">setView<\/span><span style=\"color: #66cc66;\">&#40;<\/span>layout<span style=\"color: #66cc66;\">&#41;<\/span>;\nalertDialog = builder.<span style=\"color: #006600;\">create<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u60a8\u5f39\u51fa\u5bf9\u8bdd\u6846\u81ea\u5b9a\u4e49\u5e03\u5c40\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u5bf9\u8bdd\u6846\u50cf\u7ba1\u7406\u6309\u94ae\uff0c\u9009\u62e9\u5217\u8868\uff0c\u6807\u9898\uff0c\u56fe\u6807\u7b49\u529f\u80fd\u3002\n<\/p><p>\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003Dialog \u548cAlertDialog.Builder \u7c7b.\n<\/p>"}