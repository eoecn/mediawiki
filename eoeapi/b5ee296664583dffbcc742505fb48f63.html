{"title":"Security and Design","text":"<p>\u8d1f\u8d23\u4eba\uff1a\u7384\u6708\u51b0\u7075 \n<\/p><p>\u539f\u6587\u94fe\u63a5\uff1a<a rel=\"nofollow\" target=\"_blank\" class=\"external free\" href=\"http:\/\/docs.eoeandroid.com\/guide\/google\/play\/billing\/billing_best_practices.htm\">http:\/\/docs.eoeandroid.com\/guide\/google\/play\/billing\/billing_best_practices.htm<\/a>\n<\/p><p><br \/>\n<\/p>\n<table id=\"toc\" class=\"toc\"><tr><td><div id=\"toctitle\"><h2>\u76ee\u5f55<\/h2><\/div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#.E5.AE.89.E5.85.A8.E5.92.8C.E8.AE.BE.E8.AE.A1\"><span class=\"tocnumber\">1<\/span> <span class=\"toctext\">\u5b89\u5168\u548c\u8bbe\u8ba1<\/span><\/a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#.E5.AE.89.E5.85.A8.E6.9C.80.E4.BD.B3.E5.AE.9E.E8.B7.B5\"><span class=\"tocnumber\">1.1<\/span> <span class=\"toctext\">\u5b89\u5168\u6700\u4f73\u5b9e\u8df5<\/span><\/a>\n<ul>\n<li class=\"toclevel-3 tocsection-3\"><a href=\"#.E5.9C.A8.E6.9C.8D.E5.8A.A1.E5.99.A8.E4.B8.8A.E5.AE.8C.E6.88.90.E7.AD.BE.E5.90.8D.E9.AA.8C.E8.AF.81.E4.BB.BB.E5.8A.A1\"><span class=\"tocnumber\">1.1.1<\/span> <span class=\"toctext\">\u5728\u670d\u52a1\u5668\u4e0a\u5b8c\u6210\u7b7e\u540d\u9a8c\u8bc1\u4efb\u52a1<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-4\"><a href=\"#.E4.BF.9D.E6.8A.A4.E4.BD.A0.E7.9A.84.E6.9C.AA.E5.8A.A0.E5.AF.86.E5.86.85.E5.AE.B9\"><span class=\"tocnumber\">1.1.2<\/span> <span class=\"toctext\">\u4fdd\u62a4\u4f60\u7684\u672a\u52a0\u5bc6\u5185\u5bb9<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-5\"><a href=\"#.E6.89.93.E4.B9.B1.E4.BD.A0.E7.9A.84.E4.BB.A3.E7.A0.81\"><span class=\"tocnumber\">1.1.3<\/span> <span class=\"toctext\">\u6253\u4e71\u4f60\u7684\u4ee3\u7801<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-6\"><a href=\"#.E4.BF.AE.E6.94.B9.E6.89.80.E6.9C.89.E7.9A.84.E6.A0.B7.E4.BE.8B.E5.BA.94.E7.94.A8.E4.BB.A3.E7.A0.81\"><span class=\"tocnumber\">1.1.4<\/span> <span class=\"toctext\">\u4fee\u6539\u6240\u6709\u7684\u6837\u4f8b\u5e94\u7528\u4ee3\u7801<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-7\"><a href=\"#.E4.BD.BF.E7.94.A8.E5.AE.89.E5.85.A8.E9.9A.8F.E6.9C.BA.E6.95.B0\"><span class=\"tocnumber\">1.1.5<\/span> <span class=\"toctext\">\u4f7f\u7528\u5b89\u5168\u968f\u673a\u6570<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-8\"><a href=\"#.E9.87.87.E5.8F.96.E8.A1.8C.E5.8A.A8.E5.AF.B9.E6.8A.97.E5.95.86.E6.A0.87.E5.92.8C.E7.89.88.E6.9D.83.E4.BE.B5.E7.8A.AF\"><span class=\"tocnumber\">1.1.6<\/span> <span class=\"toctext\">\u91c7\u53d6\u884c\u52a8\u5bf9\u6297\u5546\u6807\u548c\u7248\u6743\u4fb5\u72af<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-9\"><a href=\"#.E4.BF.9D.E6.8A.A4.E4.BD.A0.E7.9A.84Google_Play.E5.85.AC.E9.92.A5\"><span class=\"tocnumber\">1.1.7<\/span> <span class=\"toctext\">\u4fdd\u62a4\u4f60\u7684Google Play\u516c\u94a5<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<\/td><\/tr><\/table>\n<h1> <span class=\"mw-headline\" id=\".E5.AE.89.E5.85.A8.E5.92.8C.E8.AE.BE.E8.AE.A1\"> \u5b89\u5168\u548c\u8bbe\u8ba1 <\/span><\/h1>\n<p>\u5f53\u4f60\u5728\u8bbe\u8ba1\u5b9e\u73b0\u4f60\u7684\u5e94\u7528\u5185\u652f\u4ed8\u65f6\uff0c\u786e\u4fdd\u8ddf\u968f\u5728\u8fd9\u4e2a\u6587\u6863\u4e2d\u8ba8\u8bba\u7684\u5b89\u5168\u4e0e\u8bbe\u8ba1\u6307\u5357\u3002\u8fd9\u4e9b\u5411\u5bfc\u662f\u4e3a\u4f7f\u7528Google Play\u5e94\u7528\u5185\u652f\u4ed8\u670d\u52a1\u63a8\u8350\u7684\u6700\u4f73\u5b9e\u8df5\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E5.AE.89.E5.85.A8.E6.9C.80.E4.BD.B3.E5.AE.9E.E8.B7.B5\"> \u5b89\u5168\u6700\u4f73\u5b9e\u8df5 <\/span><\/h2>\n<h3> <span class=\"mw-headline\" id=\".E5.9C.A8.E6.9C.8D.E5.8A.A1.E5.99.A8.E4.B8.8A.E5.AE.8C.E6.88.90.E7.AD.BE.E5.90.8D.E9.AA.8C.E8.AF.81.E4.BB.BB.E5.8A.A1\">\u5728\u670d\u52a1\u5668\u4e0a\u5b8c\u6210\u7b7e\u540d\u9a8c\u8bc1\u4efb\u52a1<\/span><\/h3>\n<p>\u5982\u4f55\u5b9e\u8df5\uff0c\u4f60\u5e94\u8be5\u5728\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u800c\u4e0d\u662f\u8bbe\u5907\u4e0a\u5b8c\u6210\u7b7e\u540d\u9a8c\u8bc1\u3002\u5728\u670d\u52a1\u5668\u4e0a\u5b9e\u73b0\u9a8c\u8bc1\u5904\u7406\u4f7f\u653b\u51fb\u8005\u5f88\u96be\u901a\u8fc7\u9006\u5411\u5de5\u7a0b\u4f60\u7684APK\u6587\u4ef6\u6765\u7834\u574f\u9a8c\u8bc1\u5904\u7406\u3002\u5982\u679c\u4f60\u5411\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\u5378\u8f7d\u5b89\u5168\u5904\u7406\uff0c\u786e\u4fdd\u8bbe\u5907\u5230\u670d\u52a1\u5668\u7684\u63e1\u624b\u662f\u5b89\u5168\u7684\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E4.BF.9D.E6.8A.A4.E4.BD.A0.E7.9A.84.E6.9C.AA.E5.8A.A0.E5.AF.86.E5.86.85.E5.AE.B9\">\u4fdd\u62a4\u4f60\u7684\u672a\u52a0\u5bc6\u5185\u5bb9<\/span><\/h3>\n<p>\u8981\u963b\u6b62\u6076\u610f\u7528\u6237\u91cd\u65b0\u53d1\u5e03\u4f60\u7684\u672a\u52a0\u5bc6\u5185\u5bb9\uff0c\u4e0d\u8981\u628a\u5b83\u548c\u4f60\u7684apk\u6587\u4ef6\u6346\u7ed1\uff0c\u4ee5\u4ee5\u4e0b\u4e00\u79cd\u65b9\u6cd5\u4ee3\u66ff\uff1a\n<\/p>\n<ul><li>\u4f7f\u7528\u5b9e\u65f6\u670d\u52a1\u53d1\u9001\u4f60\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\u5185\u5bb9\u6e90\u3002\u901a\u8fc7\u5b9e\u65f6\u670d\u52a1\u53d1\u9001\u5185\u5bb9\u5141\u8bb8\u4f60\u7684\u5185\u5bb9\u59cb\u7ec8\u4e3a\u6700\u65b0\u7684\u3002\n<\/li><li>\u4f7f\u7528\u8fdc\u7a0b\u670d\u52a1\u5668\u53d1\u9001\u4f60\u7684\u5185\u5bb9\u3002\n<\/li><\/ul>\n<p>\u5f53\u4f60\u4ece\u8fdc\u7a0b\u670d\u52a1\u5668\u53d1\u9001\u5185\u5bb9\u6216\u4f7f\u7528\u5b9e\u65f6\u670d\u52a1\uff0c\u4f60\u53ef\u4ee5\u628a\u672a\u52a0\u5bc6\u5185\u5bb9\u5b58\u50a8\u5728\u8bbe\u5907\u5185\u5b58\u4e2d\u6216SD\u5361\u4e2d\u3002\u5982\u679c\u5b58\u50a8\u5728SD\u5361\u4e2d\uff0c\u786e\u4fdd\u52a0\u5bc6\u5185\u5bb9\u4e14\u4f7f\u7528\u8bbe\u5907\u6307\u5b9a\u7684\u5bc6\u94a5\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E6.89.93.E4.B9.B1.E4.BD.A0.E7.9A.84.E4.BB.A3.E7.A0.81\">\u6253\u4e71\u4f60\u7684\u4ee3\u7801<\/span><\/h3>\n<p>\u4f60\u5e94\u8be5\u6253\u4e71\u4f60\u7684\u5e94\u7528\u5185\u652f\u4ed8\u4ee3\u7801\u4f7f\u653b\u51fb\u8005\u5f88\u96be\u9006\u5411\u5de5\u7a0b\u4f60\u7684\u5b89\u5168\u534f\u8bae\u548c\u5176\u4ed6\u5e94\u7528\u7ec4\u4ef6\u3002\u5728\u6700\u4f4e\u7a0b\u5ea6\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528Proguard\u6253\u4e71\u5de5\u5177\u3002\n<\/p><p>\u9664\u4e86\u8fd0\u884c\u6253\u4e71\u7a0b\u5e8f\u65f6\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u4f7f\u7528\u4ee5\u4e0b\u6280\u672f\u6253\u4e71\u5e94\u7528\u5185\u4ee3\u7801\u3002\n<\/p>\n<ul><li>\u5185\u8054\u65b9\u6cd5\u8fdb\u5165\u5176\u4ed6\u65b9\u6cd5\n<\/li><li>\u4f7f\u5b57\u7b26\u4e32\u5fd9\u788c\u4ee3\u66ff\u5b9a\u4e49\u4e3a\u5e38\u91cf\n<\/li><li>\u4f7f\u7528JAVA\u6620\u50cf\u8bbf\u95ee\u65b9\u6cd5\n<\/li><\/ul>\n<p>\u4f7f\u7528\u8fd9\u4e9b\u6280\u672f\u53ef\u4ee5\u5e2e\u52a9\u51cf\u5c11\u4f60\u5e94\u7528\u7684\u653b\u51fb\u9762\u548c\u5e2e\u52a9\u6700\u5c0f\u5316\u653b\u51fb\u6765\u59a5\u534f\u5e94\u7528\u5185\u652f\u4ed8\u7684\u5b9e\u73b0\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#0A0A0A;\">\n<p>\u6ce8\u91ca\uff1a\u5982\u679c\u4f60\u4f7f\u7528Proguard\u6765\u6253\u4e71\u4ee3\u7801\uff0c\u4f60\u5fc5\u987b\u5728Proguard\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u4ee5\u4e0b\u884c\uff1a\n-keep class com.android.vending.billing.**\n<\/p>\n<\/div>\n<h3> <span class=\"mw-headline\" id=\".E4.BF.AE.E6.94.B9.E6.89.80.E6.9C.89.E7.9A.84.E6.A0.B7.E4.BE.8B.E5.BA.94.E7.94.A8.E4.BB.A3.E7.A0.81\">\u4fee\u6539\u6240\u6709\u7684\u6837\u4f8b\u5e94\u7528\u4ee3\u7801<\/span><\/h3>\n<p>\u5e94\u7528\u5185\u652f\u4ed8\u6837\u4f8b\u4ee3\u7801\u662f\u516c\u5f00\u53d1\u884c\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u4e0b\u8f7d\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u5982\u679c\u4f60\u4f7f\u7528\u6837\u4f8b\u4ee3\u7801\u6b63\u5982\u5b83\u53d1\u5e03\u65f6\u90a3\u6837\uff0c\u5c06\u4f7f\u653b\u51fb\u8005\u975e\u5e38\u5bb9\u6613\u9006\u5411\u5de5\u7a0b\u4f60\u7684\u5e94\u7528\u3002\u6837\u4f8b\u4ee3\u7801\u5e94\u7528\u53ea\u6253\u7b97\u4f5c\u7528\u4e00\u4e2a\u4f8b\u5b50\u4f7f\u7528\u3002\u5982\u679c\u4f60\u4f7f\u7528\u6837\u4f8b\u5e94\u7528\u7684\u4efb\u4f55\u90e8\u5206\uff0c\u4f60\u5fc5\u987b\u5728\u4f60\u53d1\u5e03\u524d\u4fee\u6539\u5b83\uff0c\u6216\u4f5c\u4e3a\u4ea7\u54c1\u5e94\u7528\u7684\u4e00\u90e8\u5206\u91ca\u51fa\u3002\n<\/p><p>\u7279\u522b\u7684\u662f\uff0c\u653b\u51fb\u8005\u5bfb\u627e\u5e94\u7528\u7684\u5165\u53e3\u548c\u51fa\u53e3\uff0c\u56e0\u6b64\u5bf9\u4f60\u6765\u8bf4\u4fee\u6539\u4f60\u5e94\u7528\u7684\u8fd9\u4e9b\u548c\u6837\u4f8b\u4ee3\u7801\u76f8\u540c\u7684\u90e8\u5206\u5341\u5206\u91cd\u8981\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E4.BD.BF.E7.94.A8.E5.AE.89.E5.85.A8.E9.9A.8F.E6.9C.BA.E6.95.B0\">\u4f7f\u7528\u5b89\u5168\u968f\u673a\u6570<\/span><\/h3>\n<p>\u968f\u673a\u6570\u5fc5\u987b\u4e0d\u53ef\u9884\u6d4b\u548c\u91cd\u590d\u3002\u603b\u662f\u4f7f\u7528\u4e00\u79cd\u52a0\u5bc6\u5b89\u5168\u968f\u673a\u6570\u751f\u6210\u5668\uff08\u4f8b\u5982SecureRandom\uff09\u5f53\u4f60\u751f\u6210\u968f\u673a\u6570\uff0c\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u51cf\u5c11\u91cd\u590d\u653b\u51fb\u3002\n<\/p><p>\u4e5f\u5c31\u662f\uff0c\u5982\u679c\u4f60\u5728\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u6267\u884c\u968f\u673a\u6570\u9a8c\u8bc1\uff0c\u786e\u4fdd\u4f60\u5728\u670d\u52a1\u5668\u4e0a\u751f\u6210\u968f\u673a\u6570\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E9.87.87.E5.8F.96.E8.A1.8C.E5.8A.A8.E5.AF.B9.E6.8A.97.E5.95.86.E6.A0.87.E5.92.8C.E7.89.88.E6.9D.83.E4.BE.B5.E7.8A.AF\">\u91c7\u53d6\u884c\u52a8\u5bf9\u6297\u5546\u6807\u548c\u7248\u6743\u4fb5\u72af<\/span><\/h3>\n<p>\u5982\u679c\u4f60\u770b\u5230\u4f60\u7684\u5185\u5bb9\u5728Google Play\u88ab\u91cd\u65b0\u53d1\u5e03\uff0c\u679c\u65ad\u5feb\u901f\u91c7\u53d6\u884c\u52a8\u3002\u6587\u4ef6\u5546\u6807\u4fb5\u72af\u901a\u77e5\u548c\u7248\u6743\u4fb5\u72af\u901a\u77e5\u3002\n<\/p><p>\u5982\u679c\u4f60\u4f7f\u7528\u8fdc\u7a0b\u670d\u52a1\u5668\u53d1\u9001\u6216\u7ba1\u7406\u5185\u5bb9\uff0c\u4f7f\u4f60\u7684\u5e94\u7528\u65e0\u8bba\u4f55\u65f6\u8fdb\u5165\u5185\u5bb9\u9a8c\u8bc1\u672a\u52a0\u5bc6\u5185\u5bb9\u7684\u8d2d\u4e70\u72b6\u6001\uff0c\u8fd9\u5c06\u5141\u8bb8\u4f60\u5fc5\u8981\u65f6\u64a4\u9500\u4f7f\u7528\u548c\u51cf\u5c11\u76d7\u7248\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E4.BF.9D.E6.8A.A4.E4.BD.A0.E7.9A.84Google_Play.E5.85.AC.E9.92.A5\">\u4fdd\u62a4\u4f60\u7684Google Play\u516c\u94a5<\/span><\/h3>\n<p>\u8981\u5728\u6076\u610f\u7528\u6237\u548c\u9ed1\u5ba2\u9762\u524d\u4fdd\u62a4\u4f60\u7684\u516c\u94a5\u5b89\u5168\uff0c\u4e0d\u8981\u5d4c\u5165\u4efb\u4f55\u4f8b\u5982\u6587\u5b57\u5b57\u7b26\u4e32\u7684\u4ee3\u7801\uff0c\u4e00\u90e8\u5206\u5728\u8fd0\u884c\u65f6\u6784\u5efa\u5b57\u7b26\u4e32\u6216\u4f7f\u7528\u4f4d\u8fd0\u7b97\uff08\u4f8b\u5982\uff1a\u5f02\u6216\u4e00\u4e9b\u5176\u4ed6\u5b57\u7b26\u4e32\uff09\u6765\u9690\u85cf\u771f\u5b9e\u7684\u5bc6\u94a5\u3002\u5bc6\u94a5\u5e76\u4e0d\u662f\u5bc6\u7801\u4fe1\u606f\uff0c\u4f46\u662f\u5982\u679c\u4f60\u4e0d\u60f3\u4f7f\u9ed1\u5ba2\u6216\u6076\u610f\u7528\u6237\u5f88\u5bb9\u6613\u5c31\u7528\u4efb\u4f55\u5bc6\u94a5\u66ff\u4ee3\u516c\u94a5\u7684\u8bdd\u3002\n<\/p>"}