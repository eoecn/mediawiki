{"title":"Permissions","text":"<p>\u539f\u6587\u94fe\u63a5\uff1a<a rel=\"nofollow\" target=\"_blank\" class=\"external free\" href=\"http:\/\/docs.eoeandroid.com\/guide\/topics\/security\/permissions.html\">http:\/\/docs.eoeandroid.com\/guide\/topics\/security\/permissions.html<\/a> \n<\/p><p>\u4f5c\u8005\uff1asmilysas\n<\/p><p>\u66f4\u65b0\u65f6\u95f4\uff1a2012\u5e747\u670811\u65e5\n<\/p>\n<table id=\"toc\" class=\"toc\"><tr><td><div id=\"toctitle\"><h2>\u76ee\u5f55<\/h2><\/div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#.E6.9D.83.E9.99.90.E8.AE.B8.E5.8F.AF-Permissions\"><span class=\"tocnumber\">1<\/span> <span class=\"toctext\">\u6743\u9650\u8bb8\u53ef-Permissions<\/span><\/a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#.E5.AE.89.E5.85.A8.E4.BD.93.E7.B3.BB.E6.9E.B6.E6.9E.84-Security_Architecture\"><span class=\"tocnumber\">1.1<\/span> <span class=\"toctext\">\u5b89\u5168\u4f53\u7cfb\u67b6\u6784-Security Architecture<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E6.95.B0.E5.AD.97.E7.AD.BE.E5.90.8D-Application_Signing\"><span class=\"tocnumber\">1.2<\/span> <span class=\"toctext\">\u5e94\u7528\u7a0b\u5e8f\u6570\u5b57\u7b7e\u540d-Application Signing<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#.E7.94.A8.E6.88.B7ID.E5.92.8C.E6.96.87.E4.BB.B6.E8.AE.BF.E9.97.AE-User_IDs_and_File_Access\"><span class=\"tocnumber\">1.3<\/span> <span class=\"toctext\">\u7528\u6237ID\u548c\u6587\u4ef6\u8bbf\u95ee-User IDs and File Access<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#.E4.BD.BF.E7.94.A8.E6.9D.83.E9.99.90-Using_Permissions\"><span class=\"tocnumber\">1.4<\/span> <span class=\"toctext\">\u4f7f\u7528\u6743\u9650-Using Permissions<\/span><\/a><\/li>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#.E5.A3.B0.E6.98.8E.E5.92.8C.E5.AE.9E.E6.96.BD.E8.AE.B8.E5.8F.AF-Declaring_and_Enforcing_Permissions\"><span class=\"tocnumber\">1.5<\/span> <span class=\"toctext\">\u58f0\u660e\u548c\u5b9e\u65bd\u8bb8\u53ef-Declaring and Enforcing Permissions<\/span><\/a>\n<ul>\n<li class=\"toclevel-3 tocsection-7\"><a href=\"#.E5.9C.A8AndroidManifest.xml.E4.B8.AD.E5.A3.B0.E6.98.8E.E6.9D.83.E9.99.90.E8.AE.BE.E7.BD.AE-Enforcing_Permissions_in_AndroidManifest.xml\"><span class=\"tocnumber\">1.5.1<\/span> <span class=\"toctext\">\u5728AndroidManifest.xml\u4e2d\u58f0\u660e\u6743\u9650\u8bbe\u7f6e-Enforcing Permissions in AndroidManifest.xml<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-8\"><a href=\"#.E5.8F.91.E9.80.81.E5.B9.BF.E6.92.AD.E6.97.B6.E5.AE.9E.E6.96.BD.E8.AE.B8.E5.8F.AF-Enforcing_Permissions_when_Sending_Broadcasts\"><span class=\"tocnumber\">1.5.2<\/span> <span class=\"toctext\">\u53d1\u9001\u5e7f\u64ad\u65f6\u5b9e\u65bd\u8bb8\u53ef-Enforcing Permissions when Sending Broadcasts<\/span><\/a><\/li>\n<li class=\"toclevel-3 tocsection-9\"><a href=\"#.E5.85.B6.E4.BB.96.E6.9D.83.E9.99.90.E8.AE.BE.E7.BD.AE-Other_Permission_Enforcement\"><span class=\"tocnumber\">1.5.3<\/span> <span class=\"toctext\">\u5176\u4ed6\u6743\u9650\u8bbe\u7f6e-Other Permission Enforcement<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#URI.E8.AE.B8.E5.8F.AF-URI_Permissions\"><span class=\"tocnumber\">1.6<\/span> <span class=\"toctext\">URI\u8bb8\u53ef-URI Permissions<\/span><\/a><\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<\/td><\/tr><\/table>\n<h1> <span class=\"mw-headline\" id=\".E6.9D.83.E9.99.90.E8.AE.B8.E5.8F.AF-Permissions\">\u6743\u9650\u8bb8\u53ef-Permissions<\/span><\/h1>\n<p>\u672c\u6587\u6863\u4ecb\u7ecd\u4e86\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u5982\u4f55\u4f7f\u7528\u7531Android\u63d0\u4f9b\u7684\u5b89\u5168\u529f\u80fd\u3002\u5728Android \u5f00\u653e\u6e90\u4ee3\u7801\u9879\u76eeAOSP(Android Open Source Project)\u4e2d\u63d0\u4f9b\u4e86\u66f4\u4e00\u822c\u7684Android\u5b89\u5168\u6027\u6982\u8ff0\u3002\n<\/p><p>Android\u662f\u4e00\u79cd\u7279\u6743\u5206\u9694\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5728Android\u4e0a\u8fd0\u884c\u7684\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u90fd\u5177\u6709\u5404\u81ea\u72ec\u7acb\u7684\u7cfb\u7edf\u6807\u8bc6\uff08Linux\u7528\u6237ID\u548c\u7ec4ID\uff09\u3002\u7cfb\u7edf\u5404\u90e8\u5206\u6709\u4e0d\u540c\u7684\u8eab\u4efd\u6807\u8bc6\u3002\u56e0\u6b64\uff0cLinux\u4e0a\u8fd0\u884c\u7684\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u7cfb\u7edf\u65e0\u5173\u3002\n<\/p><p><br \/>\nAndroid\u7684\u201c\u6743\u9650\u8bb8\u53ef\u201d\u673a\u5236\u901a\u8fc7\u9650\u5b9a\u7279\u5b9a\u7684\u8fdb\u7a0b\u80fd\u591f\u6267\u884c\u7684\u6307\u5b9a\u64cd\u4f5c\u548c\u9650\u5b9a\u5bf9\u6bcf\u4e00\u4e2a\u8d44\u6e90\u70b9\u5bf9\u70b9\u7684\u8bbf\u95ee\u7684URI\u8bb8\u53ef\u6765\u63d0\u4f9b\u9644\u52a0\u7ec6\u7c92\u5ea6\u7684\u5b89\u5168\u529f\u80fd\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E5.AE.89.E5.85.A8.E4.BD.93.E7.B3.BB.E6.9E.B6.E6.9E.84-Security_Architecture\">\u5b89\u5168\u4f53\u7cfb\u67b6\u6784-Security Architecture<\/span><\/h2>\n<p>Android\u5b89\u5168\u4f53\u7cfb\u67b6\u6784\u8bbe\u8ba1\u7684\u6838\u5fc3\u662f\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u7a0b\u5e8f\u53ef\u4ee5\u6267\u884c\u5bf9\u5176\u4ed6\u7a0b\u5e8f\u3001\u64cd\u4f5c\u7cfb\u7edf\u6216\u8005\u7528\u6237\u6709\u5bb3\u7684\u64cd\u4f5c\uff0c\u5305\u62ec\u8bfb\u5199\u7528\u6237\u7684\u9690\u79c1\u6570\u636e\uff08\u4f8b\u5982\u8054\u7cfb\u4eba\u6216\u8005\u7535\u5b50\u90ae\u4ef6\uff09\uff0c\u8bfb\u5199\u5176\u4ed6\u7a0b\u5e8f\u7684\u6587\u4ef6\uff0c\u8fdb\u884c\u7f51\u7edc\u8bbf\u95ee\u6216\u8005\u5524\u9192\u8bbe\u5907\u7b49\u7b49\u3002\n<\/p><p>\u7531\u4e8e\u5185\u6838\u8ba9\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u5728\u72ec\u7acb\u7684\u6c99\u76d2\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u901a\u8fc7\u58f0\u660e\u6240\u9700\u8981\u800c\u6c99\u76d2\u6ca1\u6709\u63d0\u4f9b\u7684\u6743\u9650\u6765\u660e\u786e\u7684\u5206\u914d\u8d44\u6e90\u548c\u6570\u636e\u3002Android\u6ca1\u6709\u91c7\u7528\u4f1a\u4f7f\u7528\u6237\u4f53\u9a8c\u590d\u6742\u5e76\u4e14\u4e0d\u5229\u4e8e\u5b89\u5168\u7684\u52a8\u6001\u6388\u6743\u673a\u5236\u3002\u5e94\u7528\u7a0b\u5e8f\u9759\u6001\u7684\u58f0\u660e\u4ed6\u4eec\u6240\u9700\u8981\u7684\u6743\u9650\uff0c\u5728\u7a0b\u5e8f\u5b89\u88c5\u65f6Android\u7cfb\u7edf\u4f1a\u63d0\u793a\u7528\u6237\u540c\u610f\u5b83\u4eec\u83b7\u53d6\u8fd9\u4e9b\u6743\u9650\u3002\n<\/p><p>\u6c99\u76d2\u7a0b\u5e8f\u72ec\u7acb\u4e8e\u751f\u6210\u666e\u901a\u5e94\u7528\u7a0b\u5e8f\u7684\u673a\u5236\u3002\u7279\u522b\u5730\uff0cDalvik\u865a\u62df\u673a\u4e0d\u662f\u4e00\u4e2a\u5b89\u5168\u7684\u8fb9\u754c\uff0c\u4efb\u4f55\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u80fd\u591f\u8fd0\u884c\u672c\u5730\u4ee3\u7801\uff08\u53c2\u7167Android NDK\uff09\u3002\u6240\u6709\u7c7b\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u2014\u2014java\u3001native\u548c\u6df7\u5408\u7684\u2014\u2014\u5747\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u7f6e\u4ee5\u76f8\u540c\u7684\u5b89\u5168\u7b49\u7ea7\u5728\u6c99\u76d2\u4e2d\u8fd0\u884c\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E6.95.B0.E5.AD.97.E7.AD.BE.E5.90.8D-Application_Signing\">\u5e94\u7528\u7a0b\u5e8f\u6570\u5b57\u7b7e\u540d-Application Signing<\/span><\/h2>\n<p>\u6240\u6709\u7684Android\u5e94\u7528\u7a0b\u5e8f\uff08apk\u6587\u4ef6\uff09\u90fd\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u5f00\u53d1\u4eba\u5458\u638c\u63e1\u79c1\u94a5\u3001\u7528\u4e8e\u8bc6\u522b\u5e94\u7528\u7a0b\u5e8f\u4f5c\u8005\u7684\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d\u3002\u8be5\u8bc1\u4e66\u8981\u6c42\u5f88\u5bbd\u677e\uff0c\u5e76\u4e0d\u9700\u8981\u7531\u4e13\u95e8\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u8fdb\u884c\u7b7e\u540d\uff0cAndroid\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u81ea\u7b7e\u540d\u7684\u8bc1\u4e66\u3002Android\u8bc1\u4e66\u7684\u76ee\u7684\u662f\u533a\u5206\u5e94\u7528\u7a0b\u5e8f\u7684\u4f5c\u8005\uff0c\u53ef\u4ee5\u5141\u8bb8\u64cd\u4f5c\u7cfb\u7edf\u6388\u4e88\u6216\u8005\u62d2\u7edd\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7b7e\u540d\u7ea7\u522b\u7684\u6743\u9650\u548c\u64cd\u4f5c\u7cfb\u7edf\u6388\u4e88\u6216\u8005\u62d2\u7edd\u5e94\u7528\u7a0b\u5e8f\u8bf7\u6c42\u548c\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u76f8\u540c\u7684Linux\u8eab\u4efd\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E7.94.A8.E6.88.B7ID.E5.92.8C.E6.96.87.E4.BB.B6.E8.AE.BF.E9.97.AE-User_IDs_and_File_Access\">\u7528\u6237ID\u548c\u6587\u4ef6\u8bbf\u95ee-User IDs and File Access<\/span><\/h2>\n<p>\u5728\u5b89\u88c5\u7684\u65f6\u5019\uff0cAndroid\u4f1a\u7ed9\u6bcf\u4e2a\u7a0b\u5e8f\u5206\u914d\u4e00\u4e2a\u4e0d\u540c\u7684Linux\u7528\u6237\u8eab\u4efd(UID)\u3002\u8f6f\u4ef6\u5728\u8bbe\u5907\u4e0a\u7684\u751f\u547d\u5468\u671f\u4e2d\u8fd9\u4e2a\u8eab\u4efd\u6807\u8bc6\u4fdd\u6301\u6052\u5b9a\u4e0d\u53d8\u3002\u5728\u4e0d\u540c\u7684\u8bbe\u5907\u4e0a\uff0c\u76f8\u540c\u7684\u8f6f\u4ef6\u53ef\u80fd\u4f1a\u6709\u4e00\u4e2a\u4e0d\u540c\u7684UID\uff1b\u91cd\u8981\u7684\u662f\u5728\u7ed9\u5b9a\u7684\u8bbe\u5907\u4e0a\u4e0d\u540c\u7684\u5305\u662f\u4e0d\u540c\u7684UID\u3002\n<\/p><p>\u56e0\u4e3a\u5b89\u5168\u662f\u5728\u8fdb\u7a0b\u7ea7\u522b\u4e0a\u5b9e\u73b0\u7684\uff0c\u4e24\u4e2a\u8f6f\u4ef6\u5305\u7684\u4ee3\u7801\u5728\u540c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u4e0d\u80fd\u591f\u540c\u65f6\u6b63\u5e38\u8fd0\u884c\uff0c\u4ed6\u4eec\u5fc5\u987b\u4ee5\u4e0d\u540c\u7684Linux\u7528\u6237\u8fd0\u884c\u3002\u53ef\u4ee5\u5728\u6bcf\u4e2a\u7a0b\u5e8f\u5305\u7684AndroidManifest.xml\u4e2d\u5c06manifest\u6807\u7b7e\u7684shareUserId\u5c5e\u6027\u5206\u914d\u76f8\u540c\u7684\u7528\u6237ID\uff0c\u628a\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u770b\u4f5c\u62e5\u6709\u540c\u6837\u7684\u7528\u6237ID\u548c\u6587\u4ef6\u6743\u9650\u7684\u540c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\u4e3a\u4e86\u4fdd\u6301\u5b89\u5168\uff0c\u53ea\u6709\u5177\u6709\u76f8\u540c\u7b7e\u540d\uff08\u8bf7\u6c42\u7684sharedUserId\u4e5f\u76f8\u540c\uff09\u7684\u5e94\u7528\u7a0b\u5e8f\u624d\u4f1a\u5206\u914d\u76f8\u540c\u7684\u7528\u6237ID\u3002\n<\/p><p>\u4efb\u4f55\u7531\u5e94\u7528\u7a0b\u5e8f\u5b58\u50a8\u7684\u6570\u636e\u5c06\u88ab\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237ID\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0d\u80fd\u88ab\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u3002\u5f53\u4f7f\u7528getSharedPreferences(String, int), openFileOutput(String, int), \u6216 openOrCreateDatabase(String, int, SQLiteDatabase.CursorFactory)\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528MODE_WORLD_READABLE\u6216MODE_WORLD_WRITEABLE\u6807\u8bb0\u5141\u8bb8\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u6765\u8bfb\/\u5199\u6587\u4ef6\u3002\u8bbe\u7f6e\u8fd9\u4e9b\u5168\u5c40\u7684\u8bfb\u5199\u6743\u9650\u6807\u8bb0\u540e\uff0c\u8be5\u6587\u4ef6\u4ecd\u7136\u4e3a\u521b\u5efa\u6587\u4ef6\u7684\u5e94\u7528\u7a0b\u5e8f\u6240\u62e5\u6709\uff0c\u4efb\u4f55\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u770b\u5230\u5b83\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E4.BD.BF.E7.94.A8.E6.9D.83.E9.99.90-Using_Permissions\">\u4f7f\u7528\u6743\u9650-Using Permissions<\/span><\/h2>\n<p>\u4e00\u4e2aAndroid\u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u4efb\u4f55\u6743\u9650\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4e0d\u80fd\u505a\u4efb\u4f55\u4f1a\u5bf9\u7528\u6237\u4f53\u9a8c\u6216\u8bbe\u5907\u4e0a\u7684\u4efb\u4f55\u6570\u636e\u9020\u6210\u4e0d\u5229\u5f71\u54cd\u7684\u64cd\u4f5c\u3002\u8981\u5229\u7528\u8bbe\u5907\u7684\u4fdd\u62a4\u529f\u80fd\uff0c\u5fc5\u987b\u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a&lt;uses-permission&gt;\u6807\u7b7e\u4e0a\u58f0\u660e\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u6743\u9650\u3002\n<\/p><p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u76d1\u63a7\u63a5\u6536\u77ed\u4fe1\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4f5c\u5982\u4e0b\u58f0\u660e\uff1a\n<\/p>\n<pre class=\"java\">&#160;\n&lt;manifest xmlns:android=<span style=\"color: #ff0000;\">&quot;http:\/\/schemas.android.com\/apk\/res\/android&quot;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">package<\/span>=<span style=\"color: #ff0000;\">&quot;com.android.app.myapp&quot;<\/span> &gt;\n    &lt;uses-permission android:name=<span style=\"color: #ff0000;\">&quot;android.permission.RECEIVE_SMS&quot;<\/span> \/&gt;\n    ...\n&lt;\/manifest&gt;\n&#160;<\/pre>\n<p>\u5728\u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5b89\u88c5\u8005\u8981\u57fa\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u7b7e\u540d\u5728\u4ea4\u4e92\u65f6\u5bf9\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u7684\u6743\u9650\u8fdb\u884c\u6388\u6743\u3002\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u65f6\u4e0d\u4f1a\u8fdb\u884c\u6743\u9650\u68c0\u67e5\uff1a\u5b83\u8981\u4e48\u5728\u5b89\u88c5\u540e\u88ab\u7ed9\u4e88\u4e00\u4e2a\u7279\u6b8a\u7684\u6743\u9650\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u5b83\u671f\u671b\u7684\u6743\u9650\uff0c\u8981\u4e48\u5c31\u4e0d\u88ab\u6388\u4e88\u6743\u9650\uff0c\u4efb\u4f55\u4f7f\u7528\u8fd9\u4e9b\u6743\u9650\u7684\u64cd\u4f5c\u90fd\u4f1a\u5728\u6ca1\u6709\u7528\u6237\u63d0\u793a\u7684\u60c5\u51b5\u4e0b\u81ea\u52a8\u5931\u8d25\u3002\n<\/p><p>\u901a\u5e38\u5982\u679c\u8bf7\u6c42\u6743\u9650\u5931\u8d25\u5e94\u7528\u7a0b\u5e8f\u4f1a\u629b\u51fa\u4e00\u4e2aSecurityException\u5f02\u5e38\uff0c\u4f46\u662f\u4e5f\u6709\u7279\u4f8b\u3002\u4f8b\u5982\uff0csendBroadcast(Intent)\u51fd\u6570\u5728\u6240\u6709\u6570\u636e\u88ab\u6295\u9012\u5230\u63a5\u6536\u8005\u65f6\u68c0\u67e5\u6743\u9650\uff0c\u5f53\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u4e0d\u4f1a\u5bf9\u6570\u636e\u7684\u6743\u9650\u8fdb\u884c\u68c0\u67e5\uff0c\u4e5f\u4e0d\u80fd\u63a5\u6536\u5230\u4efb\u4f55\u6743\u9650\u5f02\u5e38\u3002\u7ea6\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6743\u9650\u5f02\u5e38\u4f1a\u8bb0\u5f55\u5728\u65e5\u5fd7\u4e2d\u3002\n<\/p><p>\u6240\u6709Android\u7cfb\u7edf\u63d0\u4f9b\u7684\u6743\u9650\u53ef\u4ee5\u5728Manifest.permission\u4e2d\u627e\u5230\u3002\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u5e76\u6267\u884c\u5176\u81ea\u5df1\u7684\u6743\u9650\uff0c\u6240\u4ee5\u672c\u6587\u4e0d\u662f\u4e00\u4e2a\u5bf9\u4e8e\u6240\u6709\u53ef\u80fd\u7684\u6743\u9650\u7684\u5168\u9762\u7684\u6e05\u5355\u3002\n<\/p><p>\u5728\u7a0b\u5e8f\u6267\u884c\u7684\u4efb\u4f55\u9636\u6bb5\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u5b9a\u4e49\u5e76\u6267\u884c\u5176\u81ea\u5df1\u7684\u6743\u9650\uff1a\n<\/p>\n<ul><li>\u5f53\u8c03\u7528\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u963b\u6b62\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u7279\u5b9a\u7684\u529f\u80fd\u3002\n<\/li><\/ul>\n<ul><li>\u5f53\u542f\u52a8\u4e00\u4e2aActivity\u65f6\uff0c\u963b\u6b62\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u7684Activity\u3002\n<\/li><\/ul>\n<ul><li>\u5728\u53d1\u9001\u6216\u63a5\u53d7\u5e7f\u64ad\u65f6\uff0c\u63a7\u5236\u8c01\u53ef\u4ee5\u63a5\u53d7\u4f60\u7684\u5e7f\u64ad\u6216\u8005\u8c01\u53ef\u4ee5\u5411\u4f60\u53d1\u9001\u5e7f\u64ad\u3002\n<\/li><\/ul>\n<ul><li>\u8c01\u53ef\u4ee5\u8bbf\u95ee\u6216\u64cd\u4f5c\u4e00\u4e2a\u7279\u5b9a\u7684\u5185\u5bb9\u63d0\u4f9b\u8005\u3002\n<\/li><\/ul>\n<ul><li>\u7ed1\u5b9a\u6216\u8005\u542f\u52a8\u4e00\u9879\u670d\u52a1\u3002\n<\/li><\/ul>\n<h2> <span class=\"mw-headline\" id=\".E5.A3.B0.E6.98.8E.E5.92.8C.E5.AE.9E.E6.96.BD.E8.AE.B8.E5.8F.AF-Declaring_and_Enforcing_Permissions\">\u58f0\u660e\u548c\u5b9e\u65bd\u8bb8\u53ef-Declaring and Enforcing Permissions<\/span><\/h2>\n<p>\u4e3a\u4e86\u6267\u884c\u4f60\u81ea\u5df1\u7684\u6743\u9650\uff0c\u4f60\u5fc5\u987b\u9996\u5148\u5728\u4f60\u7684AndroidManifest.xml\u4e2d\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a&lt;permission&gt;\u6807\u7b7e\u58f0\u660e\u5b83\u4eec\u3002\n<\/p><p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u60f3\u8981\u63a7\u5236\u8c01\u80fd\u591f\u5f00\u59cb\u5b83\u7684\u4e00\u4e2aActivity\uff0c\u53ef\u4ee5\u58f0\u660e\u5982\u4e0b\uff1a\n<\/p>\n<pre class=\"java\">&#160;\n&lt;manifest xmlns:android=<span style=\"color: #ff0000;\">&quot;http:\/\/schemas.android.com\/apk\/res\/android&quot;<\/span>\n    <span style=\"color: #000000; font-weight: bold;\">package<\/span>=<span style=\"color: #ff0000;\">&quot;com.me.app.myapp&quot;<\/span> &gt;\n    &lt;permission android:name=<span style=\"color: #ff0000;\">&quot;com.me.app.myapp.permission.DEADLY_ACTIVITY&quot;<\/span>\n        android:label=<span style=\"color: #ff0000;\">&quot;@string\/permlab_deadlyActivity&quot;<\/span>\n        android:description=<span style=\"color: #ff0000;\">&quot;@string\/permdesc_deadlyActivity&quot;<\/span>\n        android:permissionGroup=<span style=\"color: #ff0000;\">&quot;android.permission-group.COST_MONEY&quot;<\/span>\n        android:protectionLevel=<span style=\"color: #ff0000;\">&quot;dangerous&quot;<\/span> \/&gt;\n    ...\n&lt;\/manifest&gt;\n&#160;<\/pre>\n<p>&lt;protectionLevel&gt;\u5c5e\u6027\u662f\u5fc5\u9009\u7684\uff0c\u5b83\u544a\u8bc9\u7cfb\u7edf\u5f53\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u8be5\u6743\u9650\u65f6\u600e\u6837\u901a\u77e5\u7528\u6237\u6216\u8005\u8c01\u53ef\u4ee5\u4f7f\u7528\u8be5\u6743\u9650\u3002\n<\/p><p>&lt;permissionGroup&gt;\u5c5e\u6027\u662f\u53ef\u9009\u7684\uff0c\u7528\u4e8e\u5e2e\u52a9\u7cfb\u7edf\u5c55\u793a\u6743\u9650\u7ed9\u7528\u6237\u3002\u901a\u5e38\u4f1a\u5c06\u5b83\u8bbe\u7f6e\u4e3a\u5728android.Manifest.permission_group\u4e2d\u7684\u4e00\u4e2a\u6807\u51c6\u7684\u7cfb\u7edf\u7ec4\uff0c\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\u4e5f\u53ef\u4ee5\u7531\u81ea\u5df1\u8fdb\u884c\u5b9a\u4e49\u3002\u6700\u597d\u662f\u4f18\u5148\u4f7f\u7528\u73b0\u6709\u7684\u7ec4\uff0c\u4fbf\u4e8e\u7b80\u5316\u6743\u9650UI\u5c55\u793a\u7ed9\u7528\u6237\u3002\n<\/p><p>\u8bf7\u6ce8\u610f,\u8fd9\u4e24\u4e2a\u6807\u7b7e\u548c\u63cf\u8ff0\u5e94\u63d0\u4f9b\u8bb8\u53ef\u3002\u7528\u6237\u5728\u67e5\u770b\u7684\u6743\u9650\u5217\u8868(android:label)\u6216\u5355\u4e2a\u6743\u9650( android:description)\u7684\u7ec6\u8282\u65f6\uff0c\u8fd9\u4e9b\u5185\u5bb9\u4f1a\u88ab\u5c55\u73b0\u3002\u6807\u7b7e\u5e94\u8be5\u7b80\u6d01\u7684\u4ecb\u7ecd\u6743\u9650\u4fdd\u62a4\u7684\u5173\u952e\u529f\u80fd\u3002\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u53e5\u5b50\u63cf\u8ff0\u62e5\u6709\u8be5\u6743\u9650\u53ef\u4ee5\u505a\u4ec0\u4e48\u3002\u60ef\u4f8b\u662f\u7528\u4e24\u4e2a\u53e5\u5b50\uff0c\u7b2c\u4e00\u53e5\u63cf\u8ff0\u6743\u9650\uff0c\u7b2c\u4e8c\u53e5\u8b66\u544a\u7528\u6237\u5f53\u6388\u6743\u8be5\u6743\u9650\u540e\u4f1a\u53d1\u751f\u4ec0\u4e48\u3002\n<\/p><p>\u8fd9\u91cc\u662f\u4e00\u4e2aCALL_PHONE\u6743\u9650\u7684\u6807\u7b7e\u548c\u63cf\u8ff0\u7684\u7684\u4f8b\u5b50\uff1a\n<\/p>\n<pre class=\"java\">&#160;\n    &lt;string name=<span style=\"color: #ff0000;\">&quot;permlab_callPhone&quot;<\/span>&gt;directly call phone numbers\n    &lt;\/string&gt; &lt;string name=<span style=\"color: #ff0000;\">&quot;permdesc_callPhone&quot;<\/span>&gt;Allows the application to call phone numbers without your intervention. <span style=\"color: #006600;\">Malicious<\/span> applications may cause unexpected calls on your phone bill. <span style=\"color: #006600;\">Note<\/span> that <span style=\"color: #000000; font-weight: bold;\">this<\/span> does not allow the application to call emergency numbers.&lt;\/string&gt;\n&#160;<\/pre>\n<p>\u53ef\u4ee5\u901a\u8fc7shell\u547d\u4ee4 adb shell pm list permissions\u6765\u67e5\u770b\u73b0\u5728\u7cfb\u7edf\u4e0a\u7684\u6743\u9650\u5b9a\u4e49\u3002\u7279\u522b\u5730\uff0c-s\u9009\u9879\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u8868\u683c\u5f62\u5f0f\u6765\u7ed9\u7528\u6237\u5448\u73b0\u6743\u9650\u3002\n<\/p>\n<pre class=\"java\">&#160;\n$ adb shell pm list permissions -s\nAll <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3APermissions+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">Permissions<\/span><\/a>:\n&#160;\nNetwork communication: view Wi-Fi state, create Bluetooth connections, full Internet access, view network state\n&#160;\nYour location: access extra location provider commands, fine <span style=\"color: #66cc66;\">&#40;<\/span>GPS<span style=\"color: #66cc66;\">&#41;<\/span> location,\nmock location sources <span style=\"color: #b1b100;\">for<\/span> testing, coarse <span style=\"color: #66cc66;\">&#40;<\/span>network-based<span style=\"color: #66cc66;\">&#41;<\/span> location\n&#160;\nServices that cost you money: send SMS messages, directly call phone numbers\n&#160;\n...\n&#160;<\/pre>\n<h3> <span class=\"mw-headline\" id=\".E5.9C.A8AndroidManifest.xml.E4.B8.AD.E5.A3.B0.E6.98.8E.E6.9D.83.E9.99.90.E8.AE.BE.E7.BD.AE-Enforcing_Permissions_in_AndroidManifest.xml\">\u5728AndroidManifest.xml\u4e2d\u58f0\u660e\u6743\u9650\u8bbe\u7f6e-Enforcing Permissions in AndroidManifest.xml<\/span><\/h3>\n<p>\u8fdb\u5165\u7cfb\u7edf\u6216\u5e94\u7528\u7a0b\u5e8f\u7684\u7ec4\u4ef6\u7684\u9ad8\u7ea7\u522b\u6743\u9650\u53ef\u4ee5\u5728AndroidManifest.xml\u4e2d\u5b9e\u73b0\u3002\u6240\u6709\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u901a\u8fc7\u5728\u76f8\u5e94\u7684\u7ec4\u4ef6\u4e2d\u5305\u542b android:permission \u5c5e\u6027\uff0c\u4ee5\u4f7f\u5176\u88ab\u7528\u4ee5\u63a7\u5236\u8fdb\u5165\u7684\u6743\u9650\u3002\n<\/p><p>Activity\u6743\u9650\uff08\u5e94\u7528\u4e8e&lt;activity&gt;\u6807\u7b7e\uff09\u7528\u4e8e\u9650\u5236\u8c01\u624d\u53ef\u4ee5\u542f\u52a8\u76f8\u5173\u7684Activity\u3002\u8be5\u6743\u9650\u5728\u8fd0\u884cContext.startActivity()\u548cActivity.startActivityForResult()\u671f\u95f4\u88ab\u68c0\u67e5\uff1b\u5982\u679c\u8c03\u7528\u65b9\u4e0d\u5177\u6709\u76f8\u5e94\u5fc5\u9700\u7684\u6743\u9650\uff0c\u90a3\u4e48\u5c06\u4f1a\u4ece\u6b64\u6b21\u8c03\u7528\u4e2d\u629b\u51faSecurityException \u5f02\u5e38\u3002\n<\/p><p>Service\u6743\u9650\uff08\u5e94\u7528\u4e8e&lt;service&gt;\u6807\u7b7e\uff09\u7528\u4e8e\u9650\u5236\u8c01\u624d\u53ef\u4ee5\u542f\u52a8\u6216\u7ed1\u5b9a\u8be5service\u3002\u5728\u8fd0\u884cContext.startService() , Context.stopService()\u548cContext.bindService()\u8c03\u7528\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u6743\u9650\u68c0\u67e5\u3002\u5982\u679c\u8c03\u7528\u65b9\u6ca1\u6709\u6240\u9700\u7684\u6743\u9650\uff0c\u5219\u4f1a\u629b\u51fa\u4e00\u4e2aSecurityException\u5f02\u5e38\u3002\n<\/p><p>BroadcastReceiver\u8bb8\u53ef\uff08\u5e94\u7528\u4e8e&lt;receiver&gt;\u6807\u7b7e\uff09\u7528\u4e8e\u9650\u5236\u8c01\u53ef\u4ee5\u5411\u76f8\u5173\u7684\u63a5\u6536\u5668\u53d1\u9001\u5e7f\u64ad\u3002\u6743\u9650\u68c0\u67e5\u4f1a\u5728Context.sendBroadcast()\u8fd4\u56de\u540e\u5f53\u7cfb\u7edf\u53bb\u53d1\u9001\u5df2\u7ecf\u63d0\u4ea4\u7684\u5e7f\u64ad\u7ed9\u76f8\u5e94\u7684Receiver\u65f6\u8fdb\u884c\u3002\u6700\u7ec8\uff0c\u4e00\u4e2apermission failure\u4e0d\u4f1a\u518d\u8fd4\u56de\u7ed9\u8c03\u7528\u65b9\u4e00\u4e2a\u5f02\u5e38\uff0c\u53ea\u662f\u4e0d\u4f1a\u53bb\u5b9e\u73b0\u8be5Intent\u800c\u5df2\u3002\u540c\u6837\u5730\uff0cContext.registerReceiver()\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5df1\u7684permission\u7528\u4e8e\u9650\u5236\u8c01\u53ef\u4ee5\u5411\u4e00\u4e2a\u5728\u7a0b\u5e8f\u4e2d\u6ce8\u518c\u7684receiver\u53d1\u9001\u5e7f\u64ad\u3002\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\uff0c\u4e00\u4e2apermission\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u7ed9Context.sendBroadcast() \u7528\u4ee5\u9650\u5236\u54ea\u4e00\u4e2aBroadcastReceiver\u624d\u53ef\u4ee5\u63a5\u6536\u8be5\u5e7f\u64ad\u3002\uff08\u89c1\u4e0b\u6587\uff09\n<\/p><p>ContentProvider\u8bb8\u53ef\uff08\u5e94\u7528\u4e8e&lt;provider&gt;\u6807\u7b7e\uff09\u7528\u4e8e\u9650\u5236\u8c01\u624d\u53ef\u4ee5\u8bbf\u95eeContentProvider\u63d0\u4f9b\u7684\u6570\u636e\u3002\uff08Content providers\u6709\u4e00\u5957\u989d\u5916\u7684\u5b89\u5168\u673a\u5236\u53eb\u505aURI permissions\uff0c\u8fd9\u4e9b\u5728\u7a0d\u540e\u8ba8\u8bba\u3002\uff09\u4e0d\u50cf\u5176\u4ed6\u7ec4\u4ef6\uff0c\u5b83\u6709\u4e24\u4e2a\u5355\u72ec\u7684\u6743\u9650\u5c5e\u6027\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6e\uff1aandroid:readPermission\u7528\u4e8e\u9650\u5236\u8c01\u80fd\u591f\u8bfb\uff0candroid:writePermission\u7528\u4e8e\u9650\u5236\u8c01\u80fd\u591f\u5199\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u679cprovider\u540c\u65f6\u9700\u8981\u8bfb\u5199\u8bb8\u53ef\uff0c\u53ea\u6709\u5199\u8bb8\u53ef\u7684\u60c5\u51b5\u4e0b\u5e76\u4e0d\u80fd\u8bfb\u53d6provider\u4e2d\u7684\u6570\u636e\u3002\u5f53\u4f60\u7b2c\u4e00\u6b21\u68c0\u7d22\u5185\u5bb9\u63d0\u4f9b\u8005\u548c\u5f53\u5b8c\u6210\u76f8\u5173\u64cd\u4f5c\u65f6\u4f1a\u8fdb\u884c\u6743\u9650\u68c0\u67e5\u3002\uff08\u5047\u5982\u6ca1\u6709\u4efb\u4f55\u6743\u9650\u5219\u4f1a\u629b\u51faSecurityException\u5f02\u5e38\u3002\uff09\u4f7f\u7528ContentResolver.query()\u9700\u8981\u6301\u6709\u8bfb\u6743\u9650\uff1b\u4f7f\u7528ContentResolver.insert()\uff0cContentResolver.update()\uff0cContentResolver.delete()\u9700\u8981\u5199\u6743\u9650\u3002\u5728\u6240\u6709\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u6240\u9700\u7684\u6743\u9650\u5c06\u4f1a\u5bfc\u81f4\u629b\u51faSecurityException\u5f02\u5e38\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E5.8F.91.E9.80.81.E5.B9.BF.E6.92.AD.E6.97.B6.E5.AE.9E.E6.96.BD.E8.AE.B8.E5.8F.AF-Enforcing_Permissions_when_Sending_Broadcasts\">\u53d1\u9001\u5e7f\u64ad\u65f6\u5b9e\u65bd\u8bb8\u53ef-Enforcing Permissions when Sending Broadcasts<\/span><\/h3>\n<p>\u9664\u4e86\u4e4b\u524d\u8bf4\u8fc7\u7684\u6743\u9650\uff08\u7528\u4e8e\u9650\u5236\u8c01\u53ef\u4ee5\u53d1\u9001\u5e7f\u64ad\u7ed9\u76f8\u5e94\u7684BroadcastReceiver\uff09\uff0c\u8fd8\u53ef\u4ee5\u5728\u53d1\u9001\u5e7f\u64ad\u7684\u65f6\u5019\u6307\u5b9a\u4e00\u4e2a\u8bb8\u53ef\u3002\u5728\u8c03\u7528Context.sendBroadcast()\u7684\u65f6\u5019\u4f7f\u7528\u4e00\u4e2apermission string\uff0c\u4f60\u5c31\u53ef\u4ee5\u8981\u6c42\u63a5\u6536\u5668\u7684\u5bbf\u4e3b\u7a0b\u5e8f\u5fc5\u987b\u6709\u76f8\u5e94\u7684\u6743\u9650\u3002\n<\/p><p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\u63a5\u6536\u5668\u548c\u5e7f\u64ad\u90fd\u53ef\u4ee5\u8981\u6c42\u8bb8\u53ef\u3002\u5f53\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u65f6\uff0c\u8fd9\u4e24\u79cdpermission\u68c0\u67e5\u90fd\u9700\u8981\u901a\u8fc7\u540e\u624d\u4f1a\u5c06\u76f8\u5e94\u7684intent\u53d1\u9001\u7ed9\u76f8\u5173\u7684\u76ee\u7684\u5730\u3002\n<\/p>\n<h3> <span class=\"mw-headline\" id=\".E5.85.B6.E4.BB.96.E6.9D.83.E9.99.90.E8.AE.BE.E7.BD.AE-Other_Permission_Enforcement\">\u5176\u4ed6\u6743\u9650\u8bbe\u7f6e-Other Permission Enforcement<\/span><\/h3>\n<p>\u5728\u8c03\u7528service\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u8bbe\u7f6e\u66f4\u52a0\u7ec6\u5316\u7684\u8bb8\u53ef\u3002\u8fd9\u662f\u901a\u8fc7Context.checkCallingPermission()\u65b9\u6cd5\u6765\u5b8c\u6210\u7684\u3002\u8c03\u7528\u7684\u65f6\u5019\u4f7f\u7528\u4e00\u4e2a\u60f3\u5f97\u5230\u7684permission string\uff0c\u8fd4\u56de\u7ed9\u8c03\u7528\u65b9\u4e00\u4e2a\u6574\u6570\u5224\u65ad\u662f\u5426\u5177\u6709\u76f8\u5173\u6743\u9650\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u79cd\u60c5\u51b5\u53ea\u80fd\u53d1\u751f\u5728\u6765\u81ea\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8c03\u7528\uff0c\u901a\u5e38\u662f\u4e00\u4e2aservice\u53d1\u5e03\u7684IDL\u63a5\u53e3\u6216\u8005\u662f\u5176\u4ed6\u65b9\u5f0f\u63d0\u4f9b\u7ed9\u5176\u4ed6\u7684\u8fdb\u7a0b\u3002\n<\/p><p>Android\u63d0\u4f9b\u4e86\u5f88\u591a\u5176\u4ed6\u6709\u6548\u7684\u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u8bb8\u53ef\u3002\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684pid\uff0c\u53ef\u4ee5\u901a\u8fc7Context.checkPermission(String, int, int)\u53bb\u68c0\u67e5\u8be5\u8fdb\u7a0b\u7684\u6743\u9650\u8bbe\u7f6e\u3002\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u5305\u540d\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528PackageManager.checkPermission(String, String)\u6765\u786e\u5b9a\u8be5\u5305\u662f\u5426\u5df2\u7ecf\u62e5\u6709\u4e86\u76f8\u5e94\u7684\u6743\u9650\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\"URI.E8.AE.B8.E5.8F.AF-URI_Permissions\">URI\u8bb8\u53ef-URI Permissions<\/span><\/h2>\n<p>\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u8ba8\u8bba\u7684\u6807\u51c6\u7684permission\u7cfb\u7edf\u5bf9\u4e8e\u5185\u5bb9\u63d0\u4f9b\u8005\uff08content provider\uff09\u6765\u8bf4\u662f\u4e0d\u591f\u7684\u3002\u4e00\u4e2a\u5185\u5bb9\u63d0\u4f9b\u8005\u53ef\u80fd\u60f3\u4fdd\u62a4\u5b83\u7684\u8bfb\u5199\u6743\u9650\uff0c\u800c\u540c\u65f6\u4e0e\u5b83\u5bf9\u5e94\u7684\u76f4\u5c5e\u5ba2\u6237\u7aef\u4e5f\u9700\u8981\u5c06\u7279\u5b9a\u7684URI\u4f20\u9012\u7ed9\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u4ee5\u4fbf\u5bf9\u8be5URI\u8fdb\u884c\u64cd\u4f5c\u3002\u4e00\u4e2a\u5178\u578b\u7684\u4f8b\u5b50\u662f\u90ae\u4ef6\u5e94\u7528\u7a0b\u5e8f\u7684\u9644\u4ef6\u3002\u8bbf\u95ee\u90ae\u4ef6\u9700\u8981\u4f7f\u7528permission\u6765\u4fdd\u62a4\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u662f\u654f\u611f\u7684\u7528\u6237\u6570\u636e\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u6307\u5411\u56fe\u7247\u9644\u4ef6\u7684URI\u9700\u8981\u4f20\u9012\u7ed9\u56fe\u7247\u6d4f\u89c8\u5668\uff0c\u90a3\u4e2a\u56fe\u7247\u6d4f\u89c8\u5668\u662f\u4e0d\u4f1a\u6709\u8bbf\u95ee\u9644\u4ef6\u7684\u6743\u5229\u7684\uff0c\u56e0\u4e3a\u5b83\u4e0d\u53ef\u80fd\u62e5\u6709\u6240\u6709\u7684\u90ae\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\u3002\n<\/p><p>\u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u5c31\u662fper-URI permission\uff1a\u5f53\u542f\u52a8\u4e00\u4e2aactivity\u6216\u8005\u7ed9\u4e00\u4e2aactivity\u8fd4\u56de\u7ed3\u679c\u7684\u65f6\u5019\uff0c\u8c03\u7528\u65b9\u53ef\u4ee5\u8bbe\u7f6eIntent.FLAG_GRANT_READ_URI_PERMISSION\u548c\/\u6216 Intent.FLAG_GRANT_WRITE_URI_PERMISSION\u3002\u8fd9\u8d4b\u4e88\u63a5\u6536\u6d3b\u52a8\uff08activity\uff09\u8bbf\u95ee\u8be5\u610f\u56fe\uff08Intent\uff09\u6307\u5b9a\u7684URI\u7684\u6743\u9650\uff0c\u800c\u4e0d\u8bba\u5b83\u662f\u5426\u6709\u6743\u9650\u8fdb\u5165\u8be5\u610f\u56fe\u5bf9\u5e94\u7684\u5185\u5bb9\u63d0\u4f9b\u8005\u3002\n<\/p><p>\u8fd9\u79cd\u673a\u5236\u5141\u8bb8\u4e00\u4e2a\u901a\u5e38\u7684\u80fd\u529b-\u98ce\u683c\uff08capability-style\uff09\u6a21\u578b\uff0c\u4ee5\u7528\u6237\u4ea4\u4e92\uff08\u5982\u6253\u5f00\u4e00\u4e2a\u9644\u4ef6, \u4ece\u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u8054\u7cfb\u4eba\uff09\u6765\u9a71\u52a8\u7ec6\u5316\u7684\u7279\u522b\u6388\u6743\u3002\u8fd9\u662f\u5b9e\u73b0\u51cf\u5c11\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u6743\u9650\u800c\u53ea\u7559\u4e0b\u548c\u7a0b\u5e8f\u884c\u4e3a\u76f4\u63a5\u76f8\u5173\u7684\u6743\u9650\u65f6\u5f88\u5173\u952e\u7684\u4e00\u6b65\u3002\n<\/p><p>\u8fd9\u4e9bURI permission\u7684\u83b7\u53d6\u9700\u8981\u5185\u5bb9\u63d0\u4f9b\u8005\uff08\u5305\u542b\u90a3\u4e9bURI\uff09\u7684\u914d\u5408\u3002\u5f3a\u70c8\u5efa\u8bae\u5728\u5185\u5bb9\u63d0\u4f9b\u8005\u4e2d\u5b9e\u73b0\u8fd9\u79cd\u529f\u80fd\uff0c\u5e76\u901a\u8fc7android:grantUriPermissions\u6216\u8005&lt;grant-uri-permissions&gt;\u6807\u7b7e\u6765\u58f0\u660e\u652f\u6301\u3002\n<\/p><p>\u66f4\u591a\u7684\u4fe1\u606f\u53ef\u4ee5\u53c2\u8003Context.grantUriPermission(), Context.revokeUriPermission()\u548cContext.checkUriPermission()\u51fd\u6570\u3002\n<\/p>"}