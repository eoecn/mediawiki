{"title":"Pausing and Resuming an Activity","text":"<p>\u539f\u6587\u94fe\u63a5\uff1a<a rel=\"nofollow\" target=\"_blank\" class=\"external free\" href=\"http:\/\/docs.eoeandroid.com\/intl\/zh-CN\/training\/basics\/activity-lifecycle\/pausing.html\">http:\/\/docs.eoeandroid.com\/intl\/zh-CN\/training\/basics\/activity-lifecycle\/pausing.html<\/a>\n<\/p>\n<h1> <span class=\"mw-headline\" id=\".E6.9A.82.E5.81.9C.E5.92.8C.E6.81.A2.E5.A4.8DActivity\">\u6682\u505c\u548c\u6062\u590dActivity<\/span><\/h1>\n<p>\u5728\u5e94\u7528\u7a0b\u5e8f\u6b63\u5e38\u65f6\uff0c\u5f53\u524d\u7684Activity\u6709\u65f6\u4f1a\u56e0\u4e3a\u5176\u4ed6\u53ef\u89c6\u5316\u7ec4\u4ef6\u963b\u585e(obstructed)\u800c\u5bfc\u81f4Activity\u6682\u505c\u3002\u4f8b\u5982\uff0c\u5f53\u6253\u5f00\u4e00\u4e2a\u534a\u900f\u660e\uff08semi-transparent\uff09\u7684\u6d3b\u52a8\uff08\u6bd4\u5982\uff0c\u5bf9\u8bdd\u6846\uff09\uff0c\u5148\u524d\u7684Activity\u5c31\u4f1a\u6682\u505c\u3002 \u53ea\u8981\u8fd9\u4e2aActivity\u4ecd\u7136\u662f\u90e8\u5206\u53ef\u89c1\uff0c\u5b83\u5c31\u4e00\u76f4\u5904\u4e8e\u6682\u505c\u72b6\u6001\u3002\n<\/p><p>\u7136\u800c\uff0c\u4e00\u65e6\u5148\u524d\u7684Activity\u88ab\u5b8c\u5168\u963b\u585e\u800c\u4e0d\u53ef\u89c1\uff0c\u5b83\u5c31\u8fdb\u5165\u505c\u6b62\u72b6\u6001 \uff08\u8fd9\u662f\u5728\u4e0b\u4e00\u8282\u4e2d\u8ba8\u8bba\uff09\u3002\n<\/p><p>\u5f53Activity\u8fdb\u5165\u6682\u505c\u72b6\u6001\uff0c\u7cfb\u7edf\u8c03\u7528Activity\u4e2d\u7684onPause()\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u505c\u6b62\u5f53\u524d\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u6682\u505c\u89c6\u9891\u64ad\u653e\uff0c\u540c\u65f6\u4fdd\u5b58\u90a3\u4e9b\u6709\u53ef\u80fd\u9700\u8981\u957f\u671f\u4fdd\u5b58\u7684\u4fe1\u606f\u3002\u5982\u679c\u7528\u6237\u8fd4\u56de\u5904\u4e8e\u6682\u505c\u72b6\u6001\u7684Activity\uff0c\u7cfb\u7edf\u4f1a\u6062\u590d\u90a3\u4e9b\u6570\u636e\u5e76\u6267\u884conResume()\u65b9\u6cd5\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>Note:<\/b>\u5f53\u4f60\u7684Activity\u63a5\u53d7\u5230\u8c03\u7528onPause()\u7684\u4fe1\u606f\u65f6\uff0c\u90a3\u53ef\u80fd\u610f\u5473\u8005activity\u5c06\u88ab\u6682\u505c\u4e00\u6bb5\u65f6\u95f4\uff0c\u7528\u6237\u53ef\u80fd\u4f1a\u8fd4\u56de\u5230\u4f60\u7684activity\u3002\u4f46\u662f\uff0c\u90a3\u4e5f\u662f\u7528\u6237\u8981\u79bb\u5f00\u4f60\u7684activtiy\u7684\u7b2c\u4e00\u4e2a\u4fe1\u53f7\u3002\n<\/p>\n<\/div>\n<p><a href=\"http:\/\/wiki.eoeandroid.com\/%E6%96%87%E4%BB%B6:Basic-lifecycle-paused.png\" class=\"image\"><img alt=\"Basic-lifecycle-paused.png\" src=\"http:\/\/wiki.eoeandroid.com\/images\/5\/59\/Basic-lifecycle-paused.png\" width=\"662\" height=\"306\" \/><\/a>\n<\/p><p>Figure 1. \u5982\u56fe1\u6240\u793a\uff0c\u5f53\u4e00\u4e2a\u534a\u900f\u660e\u7684activity\u963b\u585e\u4f60\u7684activity\u65f6\uff0c\u7cfb\u7edf\u4f1a\u8c03\u7528onPause()\u65b9\u6cd5\u5e76\u4e14\u8fd9\u4e2aactivity\u4f1a\u505c\u7559\u5728Paused state (1). \u5982\u679c\u7528\u6237\u5728\u8fd9\u4e2aactivity\u8fd8\u662f\u5728\u6682\u505c\u72b6\u6001\u65f6\u56de\u5230\u8fd9\u4e2aactivity\uff0c\u7cfb\u7edf\u5219\u4f1a\u8c03\u7528\u5b83\u7684onResume()\u65b9\u6cd5(2).\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E6.9A.82.E5.81.9CActivity\">\u6682\u505cActivity<\/span><\/h2>\n<p>\u5f53\u7cfb\u7edf\u8c03\u7528\u4e00\u4e2aactivity\u4e2d\u7684onPause()\u65b9\u6cd5, \u4ece\u6280\u672f\u4e0a\u8bb2\u610f\u5473\u7740\u8fd9\u4e2aactivity\u4ecd\u7136\u5904\u4e8e\u90e8\u5206\u53ef\u89c1\u7684\u72b6\u6001\uff0c\u4f46\u662f\u5927\u591a\u6570\u65f6\u5019\uff0c\u90a3\u610f\u5473\u7740\u7528\u6237\u6b63\u5728\u79bb\u5f00\u8fd9\u4e2aactivity\u5e76\u5f88\u5feb\u4f1a\u8fdb\u5165\u505c\u6b62\u72b6\u6001. \u901a\u5e38\u5e94\u8be5\u5728onPause()\u56de\u8c03\u65b9\u6cd5\u91cc\u9762\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c:\n<\/p>\n<ul><li>\u505c\u6b62\u4f1a\u8017\u8d39CPU\u7684\u52a8\u753b\u6216\u8005\u662f\u5176\u4ed6\u6b63\u5728\u8fd0\u884c\u7684\u64cd\u4f5c\u3002\n<\/li><\/ul>\n<ul><li>\u63d0\u4ea4\u6ca1\u6709\u4fdd\u5b58\u7684\u6539\u53d8\uff0c\u4f46\u662f\u4ec5\u4ec5\u662f\u5728\u7528\u6237\u79bb\u5f00\u65f6\u671f\u5f85\u4fdd\u5b58\u7684\u5185\u5bb9(\u4f8b\u5982\u90ae\u4ef6\u8349\u7a3f)\u3002\n<\/li><\/ul>\n<ul><li>\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\uff0c\u4f8b\u5982\u5e7f\u64ad\u63a5\u6536\u5668, \u4f20\u611f\u5668(\u5982GPS), \u6216\u8005\u662f\u5176\u4ed6\u4efb\u4f55\u4f1a\u5f71\u54cd\u5230\u7535\u91cf\u7684\u8d44\u6e90\u3002\n<\/li><\/ul>\n<p><br \/>\n\u4f8b\u5982, \u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u7167\u76f8\u673a, onPause()\u4f1a\u662f\u4e00\u4e2a\u505a\u90a3\u4e9b\u91ca\u653e\u8d44\u6e90\u7684\u64cd\u4f5c\u7684\u597d\u53bb\u5904\u3002<b>java \u4ee3\u7801\u5982\u4e0b:<\/b>\n<\/p>\n<pre class=\"java\">&#160;\n   @Override\n   <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onPause<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n       <span style=\"color: #000000; font-weight: bold;\">super<\/span>.<span style=\"color: #006600;\">onPause<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;  <span style=\"color: #808080; font-style: italic;\">\/\/ \u9996\u5148\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5<\/span>\n&#160;\n       <span style=\"color: #808080; font-style: italic;\">\/\/ \u91ca\u653e\u7167\u76f8\u673a\uff0c\u5f53\u5904\u4e8e\u6682\u505c\u65f6\u7528\u4e0d\u5230\u5e76\u4e14\u522b\u7684Activity\u53ef\u80fd\u4f1a\u7528\u5230\u5b83<\/span>\n       <span style=\"color: #b1b100;\">if<\/span> <span style=\"color: #66cc66;\">&#40;<\/span>mCamera&#160;!= <span style=\"color: #000000; font-weight: bold;\">null<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n           mCamera.<span style=\"color: #006600;\">release<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>\n           mCamera = <span style=\"color: #000000; font-weight: bold;\">null<\/span>;\n       <span style=\"color: #66cc66;\">&#125;<\/span>\n   <span style=\"color: #66cc66;\">&#125;<\/span>\n&#160;<\/pre>\n<p>\u901a\u5e38\uff0c\u4e0d\u80fd\u4f7f\u7528onPause()\u6765\u4fdd\u5b58\u7528\u6237\u6539\u53d8\u7684\u6570\u636e (\u4f8b\u5982\u586b\u5165\u8868\u683c\u4e2d\u7684\u4e2a\u4eba\u4fe1\u606f) \u5230\u6c38\u4e45\u78c1\u76d8\u4e0a\u3002\u4ec5\u4ec5\u786e\u8ba4\u7528\u6237\u671f\u5f85\u90a3\u4e9b\u6539\u53d8\u80fd\u591f\u88ab\u81ea\u52a8\u4fdd\u5b58\u7684\u65f6\u5019(\u4f8b\u5982\u4e66\u5199\u90ae\u4ef6\u8349\u7a3f\u65f6)\u624d\u53ef\u4ee5\u628a\u90a3\u4e9b\u6570\u636e\u5b58\u5230\u6c38\u4e45\u78c1\u76d8\u4e0a\u3002\u7136\u800c\uff0c\u5e94\u8be5\u907f\u514d\u5728onPause()\u65f6\u6267\u884cCPU\u5bc6\u96c6\u7684\u5de5\u4f5c\uff0c\u4f8b\u5982\u5199\u6570\u636e\u5230\u6570\u636e\u5e93\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bfc\u81f4\u5207\u6362\u5230\u4e0b\u4e00\u4e2aactivity\u53d8\u5f97\u7f13\u6162(\u90a3\u4e9b\u91cd\u8d1f\u8377\u7684\u64cd\u4f5c\u5e94\u8be5\u653e\u5230onStop()\u65b9\u6cd5\u4e2d\u5b8c\u6210\uff09\u3002\n<\/p><p>\u5982\u679cactivity\u5b9e\u9645\u4e0a\u662f\u8981\u88abStop\uff0c\u4e3a\u4e86\u5207\u6362\u7684\u987a\u7545\u5e94\u8be5\u51cf\u5c11\u5728OnPause()\u65b9\u6cd5\u91cc\u9762\u7684\u5de5\u4f5c\u91cf\u3002\n<\/p>\n<div style=\"margin: 1em 0; padding: 10px; overflow: auto; background: #F7F7F7; border-left:4px solid; border-color:#258AAF;\">\n<p><b>Note:<\/b>\u5f53Activity\u5904\u4e8e\u6682\u505c\u72b6\u6001\uff0cActivity\u5b9e\u4f8b\u662f\u9a7b\u7559\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u5e76\u4e14\u5728Activity \u6062\u590d\u7684\u65f6\u5019\u91cd\u65b0\u8c03\u7528\u3002\u56e0\u800c\u4e0d\u9700\u8981\u5728\u6062\u590d\u5230Resumed\u72b6\u6001\u7684\u4e00\u7cfb\u5217\u56de\u8c03\u65b9\u6cd5\u4e2d\u91cd\u65b0\u521d\u59cb\u5316\u7ec4\u4ef6\u3002\n<\/p>\n<\/div>\n<h2> <span class=\"mw-headline\" id=\".E6.81.A2.E5.A4.8DActivity\">\u6062\u590dActivity<\/span><\/h2>\n<p>\u5f53\u7528\u6237\u628a\u4e00\u4e2aActivity\u4ecePaused\u72b6\u6001\u6062\u590d\uff0c\u7cfb\u7edf\u4f1a\u8c03\u7528onResume()\u65b9\u6cd5\u3002\n<\/p><p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7cfb\u7edf\u6bcf\u6b21\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u5bf9\u5e94\u7684activity\u90fd\u5904\u4e8e\u6700\u524d\u53f0\uff0c\u5305\u62ec\u7b2c\u4e00\u6b21\u521b\u5efa\u7684\u65f6\u5019\u3002\u6240\u4ee5\uff0c\u5728\u5b9e\u73b0onResume()\u65b9\u6cd5\u65f6\u5e94\u8be5\u521d\u59cb\u5316\u90a3\u4e9b\u5728onPause\u65b9\u6cd5\u91cc\u9762\u91ca\u653e\u6389\u7684\u7ec4\u4ef6\uff0c\u5e76\u6267\u884c\u90a3\u4e9bactivity\u6bcf\u6b21\u8fdb\u5165\u6062\u590d\u72b6\u6001\u90fd\u9700\u8981\u7684\u521d\u59cb\u5316\u52a8\u4f5c (\u4f8b\u5982\u5f00\u59cb\u52a8\u753b\u4e0e\u521d\u59cb\u5316\u90a3\u4e9b\u53ea\u6709\u5728\u83b7\u53d6\u7528\u6237\u7126\u70b9\u65f6\u624d\u9700\u8981\u7684\u7ec4\u4ef6)\u3002\n<\/p><p>\u4e0b\u9762\u7684onResume()\u4f8b\u5b50\u662f\u4e0e\u4e0a\u9762onPause()\u4f8b\u5b50\u76f8\u5bf9\u5e94\u7684\uff0c\u6240\u4ee5\u8981\u521d\u59cb\u5316\u5728\u6682\u505c\u65f6\u91ca\u653e\u7684\u7167\u76f8\u673a\u3002\n<\/p>\n<pre class=\"java\">&#160;\n   @Override\n   <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onResume<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n      <span style=\"color: #000000; font-weight: bold;\">super<\/span>.<span style=\"color: #006600;\">onResume<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;  <span style=\"color: #808080; font-style: italic;\">\/\/ \u9996\u5148\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5<\/span>\n&#160;\n      <span style=\"color: #808080; font-style: italic;\">\/\/ activity\u83b7\u53d6\u7528\u6237\u7126\u70b9\u65f6\u521d\u59cb\u5316\u76f8\u673a\u5b9e\u4f8b<\/span>\n      <span style=\"color: #b1b100;\">if<\/span> <span style=\"color: #66cc66;\">&#40;<\/span>mCamera == <span style=\"color: #000000; font-weight: bold;\">null<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n        initializeCamera<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>; <span style=\"color: #808080; font-style: italic;\">\/\/ \u76f8\u673a\u521d\u59cb\u5316\u7684\u672c\u5730\u64cd\u4f5c<\/span>\n    <span style=\"color: #66cc66;\">&#125;<\/span>\n<span style=\"color: #66cc66;\">&#125;<\/span>\n&#160;<\/pre>"}