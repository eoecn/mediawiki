{"title":"Debugging Web Apps","text":"<p>\u8d1f\u8d23\u4eba\uff1a\u5361\u9a6c\u514b \n<\/p><p>\u539f\u6587\u94fe\u63a5\uff1a<a rel=\"nofollow\" target=\"_blank\" class=\"external free\" href=\"http:\/\/docs.eoeandroid.com\/guide\/webapps\/debugging.html\">http:\/\/docs.eoeandroid.com\/guide\/webapps\/debugging.html<\/a>\n<\/p>\n<h1> <span class=\"mw-headline\" id=\"Debugging_Web_Apps\">Debugging Web Apps<\/span><\/h1>\n<p>\u5982\u679c\u4f60\u5728Android\u4e2d\u5f00\u53d1\u4e00\u4e2a\u7f51\u7edc\u5e94\u7528\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528console\u6765\u8c03\u8bd5\u4f60\u7684JavaScript\u7a0b\u5e8f\u3002\u5982\u679c\u4f60\u5bf9Firebug\u6216\u7f51\u9875\u5ba1\u67e5\uff08Inspector\uff09\u719f\u6089\uff0c\u4f60\u5f88\u53ef\u80fd\u5f88\u719f\u7ec3\u7684\u4f7f\u7528console\u3002Android\u7684Webkit\u5e93\u5bf9\u5927\u90e8\u5206\u7684API\u63d0\u4f9b\u652f\u6301\uff0c\u56e0\u6b64\u5f53\u4f60\u5728Android\u6d4f\u89c8\u5668\u6216<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebView.html\">WebView<\/a>\u8fdb\u884c\u8c03\u8bd5\u7684\u65f6\u5019\u4f60\u53ef\u4ee5\u83b7\u53d6Log\u4fe1\u606f\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E5.9C.A8Android.E6.B5.8F.E8.A7.88.E5.99.A8.E4.BD.BF.E7.94.A8Console_API\"> <b>\u5728Android\u6d4f\u89c8\u5668\u4f7f\u7528Console API<\/b> <\/span><\/h2>\n<p>\u5f53\u4f60\u8c03\u7528console\u51fd\u6570(\u5728DOM\u7684window.console\u5bf9\u8c61)\uff0c\u8f93\u51fa\u4f1a\u663e\u793a\u5728logcat\u5f53\u4e2d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u7684\u7f51\u9875\u6267\u884c\u5982\u4e0bJavaScript\u4ee3\u7801\uff1a\n<\/p>\n<pre>\n           console.log(&quot;Hello World&quot;);\n<\/pre>\n<p>logcat\u8f93\u51fa\u7684\u4fe1\u606f\u4e3a\n<\/p>\n<pre>\n            Console: Hello World http:\/\/www.example.com\/hello.html&#160;:82\n<\/pre>\n<p>\u6839\u636e\u4f60\u662f\u7528\u7684Android\u7248\u672c\u7684\u4e0d\u540c\uff0c\u53ef\u80fd\u4fe1\u606f\u663e\u793a\u7684\u683c\u5f0f\u4e5f\u4e0d\u4e00\u6837\u3002\u5728Android2.1\u548c\u66f4\u9ad8\u7ea7\u7684\u7248\u672c\u4e2d\uff0cAndroid\u6d4f\u89c8\u5668\u4e2d\u7684\u63a7\u5236\u53f0\u4fe1\u606f\u5c06\u4f1a\u4ee5\u201cbrowser\u201d\u6807\u7b7e\u6765\u547d\u540d\u3002\u800c\u5728Android1.6\u548c\u66f4\u4f4e\u7684\u7248\u672c\u4e2d\uff0c\u5c06\u4ee5\u201cWebCore\u201d\u6765\u547d\u540d\u3002\nAndroid Webkit\u4e0d\u4f1a\u5b9e\u73b0console API\u7684\u6240\u6709\u529f\u80fd\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u57fa\u672c\u7684\u6587\u672c\u8bb0\u5f55\u65b9\u6cd5\uff1a\n<\/p>\n<ul><li>console.log(String) \n<\/li><li>console.info(String) \n<\/li><li>console.warn(String) \n<\/li><li>console.error(String)\n<\/li><\/ul>\n<p>\u5176\u4ed6\u7684\u63a7\u5236\u53f0\u65b9\u6cd5\u5c06\u4e0d\u4f1a\u62a5\u4efb\u4f55\u9519\u8bef\uff0c\u4f46\u53ef\u80fd\u8ddf\u4f60\u5728\u4f7f\u7528\u522b\u7684\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u7684\u7ed3\u679c\u4e0d\u5927\u4e00\u6837\u3002\n<\/p>\n<h2> <span class=\"mw-headline\" id=\".E5.9C.A8WebView.E4.B8.AD.E4.BD.BF.E7.94.A8console_API\"> <b>\u5728WebView\u4e2d\u4f7f\u7528console API<\/b> <\/span><\/h2>\n<p>\u5982\u679c\u4f60\u5728\u5e94\u7528\u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebView.html\">WebView<\/a>\uff0c\u5f53\u4f60\u4f7f\u7528WebView\u8fdb\u884c\u8c03\u8bd5\u7684\u65f6\u5019\u6240\u6709\u7684API\u90fd\u5c06\u652f\u6301\u3002\n\u5728Android 1.6\u548c\u66f4\u4f4e\u7248\u672c\u4e2d\uff0c\u63a7\u5236\u53f0\u4fe1\u606f\u5c06\u4f1a\u81ea\u52a8\u53d1\u5f80\u5230\u4ee5\u201cWebCore\u201d\u547d\u540d\u7684logcat\u4e2d\n\u5728Android 2.1\u548c\u66f4\u9ad8\u7248\u672c\u4e2d\uff0c\u4f60\u5fc5\u987b\u63d0\u4f9bWebChromeClient\uff0c\u5b83\u62e5\u6709\u4e00\u4e2aonConsoleMessage()\u56de\u8c03\u65b9\u6cd5\uff0c\u7528\u6b64\u65b9\u6cd5\u6765\u663e\u793a\u4fe1\u606f\u5230logcat\u4e2d\u3002\n\u53e6\u5916\uff0cAPI\u7b49\u7ea77\u4e2d\u7684<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(android.webkit.ConsoleMessage)\">onConsoleMessage(String, int, String)<\/a>\u65b9\u6cd5\u5728API Level 8\u4e2d\u88ab<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(android.webkit.ConsoleMessage)\">onConsoleMessage(ConsoleMessage)<\/a>\u66ff\u6362\u6389\u3002\n\u4e0d\u7ba1\u4f60\u662f\u4f7f\u7528Android 2.1\u8fd8\u662fAndroid 2.2\uff0c\u4f60\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u91cd\u5199<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(android.webkit.ConsoleMessage)\">onConsoleMessage()<\/a>\u56de\u8c03\u65b9\u6cd5\u7684<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html\">WebChromeClient<\/a>\u65b9\u6cd5\u3002\u7136\u540e\u4f7f\u7528<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebView.html\">WebView<\/a>\u7684<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebView.html#setWebChromeClient(android.webkit.WebChromeClient)\">setWebChromeClient()<\/a>\u65b9\u6cd5\u5e94\u7528\u8be5WebChromeClient\u3002\n<\/p><p>\u5728Android 2.1\u4e2d\uff0c<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(java.lang.String,\">int, java.lang.String) onConsoleMessage(String, int, String)<\/a>\u4ee3\u7801\u663e\u793a\u5982\u4e0b\uff1a\n<\/p>\n<pre class=\"java\">&#160;\nWebView myWebView = <span style=\"color: #66cc66;\">&#40;<\/span>WebView<span style=\"color: #66cc66;\">&#41;<\/span> findViewById<span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">webview<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nmyWebView.<span style=\"color: #006600;\">setWebChromeClient<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">new<\/span> WebChromeClient<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span> \n    <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">void<\/span> onConsoleMessage<span style=\"color: #66cc66;\">&#40;<\/span><a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">String<\/span><\/a> message, <span style=\"color: #993333;\">int<\/span> lineNumber, <a href=\"http:\/\/www.google.com\/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span style=\"color: #aaaadd; font-weight: bold;\">String<\/span><\/a> sourceID<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span> \n    Log.<span style=\"color: #006600;\">d<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;MyApplication&quot;<\/span>, message + <span style=\"color: #ff0000;\">&quot; -- From line &quot;<\/span> + lineNumber + <span style=\"color: #ff0000;\">&quot; of &quot;<\/span> + sourceID<span style=\"color: #66cc66;\">&#41;<\/span>; \n    <span style=\"color: #66cc66;\">&#125;<\/span>\n<span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p>\u800cAndroid2.2\u4e2d <a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(android.webkit.ConsoleMessage)\">onConsoleMessage(ConsoleMessage)<\/a>\u65b9\u6cd5\u4ee3\u7801\u4e3a\uff1a\n<\/p>\n<pre class=\"java\">&#160;\nWebView myWebView = <span style=\"color: #66cc66;\">&#40;<\/span>WebView<span style=\"color: #66cc66;\">&#41;<\/span> findViewById<span style=\"color: #66cc66;\">&#40;<\/span>R.<span style=\"color: #006600;\">id<\/span>.<span style=\"color: #006600;\">webview<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\nmyWebView.<span style=\"color: #006600;\">setWebChromeClient<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #000000; font-weight: bold;\">new<\/span> WebChromeClient<span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span>\n     <span style=\"color: #000000; font-weight: bold;\">public<\/span> <span style=\"color: #993333;\">boolean<\/span> onConsoleMessage<span style=\"color: #66cc66;\">&#40;<\/span>ConsoleMessage cm<span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#123;<\/span> \n            Log.<span style=\"color: #006600;\">d<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #ff0000;\">&quot;MyApplication&quot;<\/span>, cm.<span style=\"color: #006600;\">message<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> + <span style=\"color: #ff0000;\">&quot; -- From line &quot;<\/span> + cm.<span style=\"color: #006600;\">lineNumber<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> + <span style=\"color: #ff0000;\">&quot; of &quot;<\/span> + cm.<span style=\"color: #006600;\">sourceId<\/span><span style=\"color: #66cc66;\">&#40;<\/span><span style=\"color: #66cc66;\">&#41;<\/span> <span style=\"color: #66cc66;\">&#41;<\/span>;\n            <span style=\"color: #000000; font-weight: bold;\">return<\/span> <span style=\"color: #000000; font-weight: bold;\">true<\/span>; \n    <span style=\"color: #66cc66;\">&#125;<\/span>\n<span style=\"color: #66cc66;\">&#125;<\/span><span style=\"color: #66cc66;\">&#41;<\/span>;\n&#160;<\/pre>\n<p><a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/ConsoleMessage.html\">ConsoleMessage<\/a>\u5b83\u8fd8\u5305\u62ec<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/ConsoleMessage.MessageLevel.html\">MessageLevel<\/a>\u6765\u8868\u660e\u4e0d\u540c\u7c7b\u578b\u7684\u63a7\u5236\u53f0\u4fe1\u606f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/ConsoleMessage.html#messageLevel()\">messageLevel()<\/a>\u65b9\u6cd5\u6765\u67e5\u8be2\u6d88\u606f\u7b49\u7ea7\uff0c\u5e76\u51b3\u5b9a\u8be5\u6d88\u606f\u7684\u4e25\u91cd\u6027\uff0c\u7136\u540e\u4f7f\u7528\u5408\u9002\u7684<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/util\/Log.html\">Log<\/a>\u65b9\u6cd5\u6216\u91c7\u53d6\u522b\u7684\u9002\u5f53\u7684\u63aa\u65bd\u3002\n<\/p><p>\u4e0d\u8bba\u4f60\u662f\u4f7f\u7528 <a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(java.lang.String,\">int, java.lang.String) onConsoleMessage(String, int, String)<\/a>\u8fd8\u662f<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(android.webkit.ConsoleMessage)\">onConsoleMessage(ConsoleMessage)<\/a>\uff0c\u5f53\u4f60\u5728\u7f51\u9875\u4e2d\u6267\u884c\u4e00\u4e2a\u63a7\u5236\u53f0\u65b9\u6cd5\uff0cAndroid\u5c06\u4f1a\u8c03\u7528\u5408\u9002\u7684<a rel=\"nofollow\" target=\"_blank\" class=\"external text\" href=\"http:\/\/docs.eoeandroid.com\/reference\/android\/webkit\/WebChromeClient.html#onConsoleMessage(java.lang.String,\">int, java.lang.String) onConsoleMessage()<\/a>\u65b9\u6cd5\uff0c\u8fd9\u5c06\u6709\u52a9\u4e8e\u4f60\u53d1\u5e03\u9519\u8bef\u4fe1\u606f\u3002\n\u4f8b\u5982\uff0c\u4f60\u5982\u679c\u4f7f\u7528\u4e0a\u9762\u5217\u4e3e\u7684\u4ee3\u7801\uff0cLogcat\u4fe1\u606f\u5c06\u4f1a\u5982\u4e0b\u6253\u5370\u51fa\u6765\uff1a\n<\/p>\n<pre>\nHello World -- From line 82 of http:\/\/www.example.com\/hello.html\n<\/pre>"}